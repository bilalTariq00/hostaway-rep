import{j as e,A as w,L as C,B as c,d as u,T as b,f as I,S,E as v,r as h,a as g,P as k,M as A,e as O,m as j,g as B,_ as T}from"./index-DDMGUD-_.js";import{C as z}from"./config-global-BwHnWRtc.js";import{D}from"./content-DAzX26cm.js";import{f as E}from"./format-number-SFTWQ8yJ.js";import{C as F}from"./Card-C1fEEBVz.js";import{A as P,a as G}from"./Autocomplete-C54stYXw.js";import{T as N}from"./TextField-BZcg-6kp.js";import{G as f}from"./Grid-CFM_c-Vf.js";import{P as $}from"./Pagination-Dusx6Zp7.js";import"./Select-DixiLax7.js";import"./Menu-Bm1ShPnp.js";import"./InputLabel-B_w9HMQG.js";import"./FormControl-BRgYzLHi.js";import"./LastPage-K8Xc1QT_.js";function M({sx:i,post:r,latestPost:o,latestPostLarge:t,...s}){const a=e.jsx(w,{alt:r.author.name,src:r.author.avatarUrl,sx:{left:24,zIndex:9,bottom:-24,position:"absolute",...(t||o)&&{top:24}}}),l=e.jsx(C,{color:"inherit",variant:"subtitle2",underline:"hover",sx:{height:44,overflow:"hidden",WebkitLineClamp:2,display:"-webkit-box",WebkitBoxOrient:"vertical",...t&&{typography:"h5",height:60},...(t||o)&&{color:"common.white"}},children:r.title}),p=e.jsx(c,{sx:{mt:3,gap:1.5,display:"flex",flexWrap:"wrap",color:"text.disabled",justifyContent:"flex-end"},children:[{number:r.totalComments,icon:"solar:chat-round-dots-bold"},{number:r.totalViews,icon:"solar:eye-bold"},{number:r.totalShares,icon:"solar:share-bold"}].map((d,y)=>e.jsxs(c,{sx:{display:"flex",...(t||o)&&{opacity:.64,color:"common.white"}},children:[e.jsx(u,{width:16,icon:d.icon,sx:{mr:.5}}),e.jsx(b,{variant:"caption",children:E(d.number)})]},y))}),x=e.jsx(c,{component:"img",alt:r.title,src:r.coverUrl,sx:{top:0,width:1,height:1,objectFit:"cover",position:"absolute"}}),m=e.jsx(b,{variant:"caption",component:"div",sx:{mb:1,color:"text.disabled",...(t||o)&&{opacity:.48,color:"common.white"}},children:I(r.postedAt)}),n=e.jsx(S,{src:"/assets/icons/shape-avatar.svg",sx:{left:0,width:88,zIndex:9,height:36,bottom:-16,position:"absolute",color:"background.paper",...(t||o)&&{display:"none"}}});return e.jsxs(F,{sx:i,...s,children:[e.jsxs(c,{sx:d=>({position:"relative",pt:"calc(100% * 3 / 4)",...(t||o)&&{pt:"calc(100% * 4 / 3)","&:after":{top:0,content:"''",width:"100%",height:"100%",position:"absolute",bgcolor:v(d.palette.grey["900Channel"],.72)}},...t&&{pt:{xs:"calc(100% * 4 / 3)",sm:"calc(100% * 3 / 4.66)"}}}),children:[n,a,x]}),e.jsxs(c,{sx:d=>({p:d.spacing(6,3,3,3),...(t||o)&&{width:1,bottom:0,position:"absolute"}}),children:[m,l,p]})]})}function R({options:i,sortBy:r,onSort:o,sx:t,...s}){var m;const[a,l]=h.useState(null),p=h.useCallback(n=>{l(n.currentTarget)},[]),x=h.useCallback(()=>{l(null)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(g,{disableRipple:!0,color:"inherit",onClick:p,endIcon:e.jsx(u,{icon:a?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),sx:[{bgcolor:n=>v(n.vars.palette.grey["500Channel"],.08)},...Array.isArray(t)?t:[t]],...s,children:(m=i.find(n=>n.value===r))==null?void 0:m.label}),e.jsx(k,{open:!!a,anchorEl:a,onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(A,{disablePadding:!0,sx:{p:.5,gap:.5,width:160,display:"flex",flexDirection:"column",[`& .${j.root}`]:{px:1,gap:2,borderRadius:.75,[`&.${j.selected}`]:{bgcolor:"action.selected"}}},children:i.map(n=>e.jsx(O,{selected:n.value===r,onClick:()=>{o(n.value),x()},children:n.label},n.value))})})]})}function V({posts:i,sx:r}){return e.jsx(P,{sx:{width:280},autoHighlight:!0,popupIcon:null,slotProps:{paper:{sx:{width:320,[`& .${G.option}`]:{typography:"body2"},...r}}},options:i,getOptionLabel:o=>o.title,isOptionEqualToValue:(o,t)=>o.id===t.id,renderInput:o=>e.jsx(N,{...o,placeholder:"Search post...",slotProps:{input:{...o.InputProps,startAdornment:e.jsx(B,{position:"start",children:e.jsx(u,{icon:"eva:search-fill",sx:{ml:1,width:20,height:20,color:"text.disabled"}})})}}})})}function W({posts:i}){const[r,o]=h.useState("latest"),t=h.useCallback(s=>{o(s)},[]);return e.jsxs(D,{children:[e.jsxs(c,{sx:{mb:5,display:"flex",alignItems:"center"},children:[e.jsx(b,{variant:"h4",sx:{flexGrow:1},children:"Blog"}),e.jsx(g,{variant:"contained",color:"inherit",startIcon:e.jsx(u,{icon:"mingcute:add-line"}),children:"New post"})]}),e.jsxs(c,{sx:{mb:5,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(V,{posts:i}),e.jsx(R,{sortBy:r,onSort:t,options:[{value:"latest",label:"Latest"},{value:"popular",label:"Popular"},{value:"oldest",label:"Oldest"}]})]}),e.jsx(f,{container:!0,spacing:3,children:i.map((s,a)=>{const l=a===0,p=a===1||a===2;return e.jsx(f,{size:{xs:12,sm:l?12:6,md:l?6:3},children:e.jsx(M,{post:s,latestPost:p,latestPostLarge:l})},s.id)})}),e.jsx($,{count:10,color:"primary",sx:{mt:8,mx:"auto"}})]})}function re(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:`Blog - ${z.appName}`}),e.jsx(W,{posts:T})]})}export{re as default};
