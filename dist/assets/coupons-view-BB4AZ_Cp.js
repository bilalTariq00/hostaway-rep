import{r as h,j as e,B as i,T as a,a as x,a4 as N,I as o,d,V as L,F as B,x as m,e as u}from"./index-DDMGUD-_.js";import{D as q}from"./content-DAzX26cm.js";import{T as $}from"./TableContainer-Cp4gnwML.js";import{T as R,a as H,b as O,c as t,d as Y}from"./TableHead-CMCmgIDA.js";import{T as c}from"./TextField-BZcg-6kp.js";import{F as D}from"./FormControl-BRgYzLHi.js";import{S as w}from"./Select-DixiLax7.js";import{D as G,a as J,b as K,c as Q}from"./DialogContent-CkHDAA-B.js";import"./InputLabel-B_w9HMQG.js";import"./Menu-Bm1ShPnp.js";const X=[{id:1,name:"MARION",amount:"25",amountType:"Percentage",lengthOfStay:"Minimum",lengthOfStayValue:"1",checkInFrom:"",checkInTo:"",validityFrom:"2025-04-22",validityTo:"2026-04-22",maxUses:"1",currentUses:0,listings:"20 listings"},{id:2,name:"SHADY",amount:"150",amountType:"Fixed",lengthOfStay:"Minimum",lengthOfStayValue:"1",checkInFrom:"2025-02-03",checkInTo:"2025-02-08",validityFrom:"2024-12-20",validityTo:"2024-12-24",maxUses:"1",currentUses:0,listings:"1 listing"},{id:3,name:"FINESETTIMANA",amount:"5",amountType:"Fixed",lengthOfStay:"Minimum",lengthOfStayValue:"1",checkInFrom:"2024-12-04",checkInTo:"2024-12-30",validityFrom:"2024-12-04",validityTo:"2024-12-31",maxUses:"Unlimited",currentUses:0,listings:"All listings"}];function oe(){const[U,g]=h.useState(!1),[p,f]=h.useState(!1),[S,v]=h.useState(null),[M,T]=h.useState(!1),[F,b]=h.useState(null),[I,k]=h.useState(X),[n,y]=h.useState({name:"",amount:"",amountType:"Percentage",lengthOfStay:"Minimum",lengthOfStayValue:"1",checkInFrom:"",checkInTo:"",validityFrom:"",validityTo:"",maxUses:"Unlimited"}),V=()=>{f(!1),v(null),y({name:"",amount:"",amountType:"Percentage",lengthOfStay:"Minimum",lengthOfStayValue:"1",checkInFrom:"",checkInTo:"",validityFrom:"",validityTo:"",maxUses:"Unlimited"}),g(!0)},j=()=>{g(!1),f(!1),v(null),y({name:"",amount:"",amountType:"Percentage",lengthOfStay:"Minimum",lengthOfStayValue:"1",checkInFrom:"",checkInTo:"",validityFrom:"",validityTo:"",maxUses:"Unlimited"})},r=s=>l=>{y({...n,[s]:l.target.value})},W=()=>{if(p&&S)k(s=>s.map(l=>l.id===S?{...l,name:n.name,amount:n.amount,amountType:n.amountType,lengthOfStay:n.lengthOfStay,lengthOfStayValue:n.lengthOfStayValue,checkInFrom:n.checkInFrom,checkInTo:n.checkInTo,validityFrom:n.validityFrom,validityTo:n.validityTo,maxUses:n.maxUses}:l));else{const s={id:Math.max(...I.map(l=>l.id),0)+1,name:n.name,amount:n.amount,amountType:n.amountType,lengthOfStay:n.lengthOfStay,lengthOfStayValue:n.lengthOfStayValue,checkInFrom:n.checkInFrom,checkInTo:n.checkInTo,validityFrom:n.validityFrom,validityTo:n.validityTo,maxUses:n.maxUses,currentUses:0,listings:"All listings"};k(l=>[...l,s])}j()},z=s=>{const l=I.find(P=>P.id===s);l&&(f(!0),v(s),y({name:l.name,amount:l.amount,amountType:l.amountType,lengthOfStay:l.lengthOfStay,lengthOfStayValue:l.lengthOfStayValue,checkInFrom:l.checkInFrom,checkInTo:l.checkInTo,validityFrom:l.validityFrom,validityTo:l.validityTo,maxUses:l.maxUses}),g(!0))},A=s=>{b(s),T(!0)},E=()=>{F&&(k(s=>s.filter(l=>l.id!==F)),T(!1),b(null))},C=()=>{T(!1),b(null)};return e.jsxs(q,{maxWidth:"xl",children:[e.jsx(i,{sx:{mb:3},children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(a,{variant:"h4",sx:{fontWeight:600},children:"Coupons"}),e.jsx(x,{variant:"contained",onClick:V,children:"+ Add coupon"})]})}),e.jsx(N,{children:e.jsx($,{children:e.jsxs(R,{children:[e.jsx(H,{children:e.jsxs(O,{children:[e.jsx(t,{children:"Name"}),e.jsx(t,{children:"Amount"}),e.jsx(t,{children:"Length of stay"}),e.jsx(t,{children:"Check-in dates"}),e.jsx(t,{children:"Validity"}),e.jsx(t,{children:"Max uses"}),e.jsx(t,{children:"Current uses"}),e.jsx(t,{children:"Listings"}),e.jsx(t,{align:"center",children:"Actions"})]})}),e.jsx(Y,{children:I.map(s=>e.jsxs(O,{children:[e.jsx(t,{children:e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:s.name})}),e.jsx(t,{children:e.jsxs(a,{variant:"body2",sx:{fontWeight:500,color:"success.main"},children:[s.amount,s.amountType==="Percentage"?"%":""]})}),e.jsx(t,{children:e.jsxs(a,{variant:"body2",children:[s.lengthOfStay," ",s.lengthOfStayValue," night",s.lengthOfStayValue!=="1"?"s":""]})}),e.jsx(t,{children:e.jsx(a,{variant:"body2",children:s.checkInFrom&&s.checkInTo?`From: ${s.checkInFrom} To: ${s.checkInTo}`:"No dates selected"})}),e.jsx(t,{children:e.jsx(a,{variant:"body2",children:s.validityFrom&&s.validityTo?`From: ${s.validityFrom} To: ${s.validityTo}`:"No dates selected"})}),e.jsx(t,{children:e.jsx(a,{variant:"body2",children:s.maxUses})}),e.jsx(t,{children:e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:s.currentUses})}),e.jsx(t,{children:e.jsx(a,{variant:"body2",children:s.listings})}),e.jsx(t,{align:"center",children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(o,{size:"small",onClick:()=>z(s.id),sx:{color:"text.secondary","&:hover":{color:"primary.main",bgcolor:"primary.50"}},children:e.jsx(d,{icon:"solar:pen-bold",width:16})}),e.jsx(o,{size:"small",onClick:()=>A(s.id),sx:{color:"text.secondary","&:hover":{color:"error.main",bgcolor:"error.50"}},children:e.jsx(d,{icon:"solar:trash-bin-trash-bold",width:16})})]})})]},s.id))})]})})}),e.jsx(L,{anchor:"right",open:U,onClose:j,sx:{"& .MuiDrawer-paper":{width:400,boxShadow:"-4px 0 20px rgba(0, 0, 0, 0.1)"}},children:e.jsxs(i,{sx:{p:3,height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:600},children:p?"Edit coupon":"Add coupon"}),e.jsx(o,{onClick:j,size:"small",children:e.jsx(d,{icon:"solar:trash-bin-trash-bold",width:20})})]}),e.jsx(B,{sx:{mb:3}}),e.jsxs(i,{sx:{flex:1},children:[e.jsxs(i,{sx:{mb:3},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Name"}),e.jsx(a,{component:"span",sx:{color:"error.main",ml:.5},children:"*"}),e.jsx(m,{title:"Enter a unique name for your coupon",children:e.jsx(o,{size:"small",sx:{ml:.5,p:.5},children:e.jsx(d,{icon:"solar:eye-bold",width:16})})})]}),e.jsx(c,{fullWidth:!0,placeholder:"NAME",value:n.name,onChange:r("name"),size:"small",required:!0})]}),e.jsxs(i,{sx:{mb:3},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Amount"}),e.jsx(a,{component:"span",sx:{color:"error.main",ml:.5},children:"*"}),e.jsx(m,{title:"Enter the discount amount",children:e.jsx(o,{size:"small",sx:{ml:.5,p:.5},children:e.jsx(d,{icon:"solar:eye-bold",width:16})})})]}),e.jsxs(i,{sx:{display:"flex",gap:1},children:[e.jsx(c,{fullWidth:!0,placeholder:"Amount",value:n.amount,onChange:r("amount"),size:"small",required:!0}),e.jsx(D,{size:"small",sx:{minWidth:120},children:e.jsxs(w,{value:n.amountType,onChange:r("amountType"),displayEmpty:!0,children:[e.jsx(u,{value:"Percentage",children:"Percentage"}),e.jsx(u,{value:"Fixed",children:"Fixed"})]})})]})]}),e.jsxs(i,{sx:{mb:3},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Length of stay"}),e.jsx(a,{component:"span",sx:{color:"error.main",ml:.5},children:"*"}),e.jsx(m,{title:"Set minimum stay requirements",children:e.jsx(o,{size:"small",sx:{ml:.5,p:.5},children:e.jsx(d,{icon:"solar:eye-bold",width:16})})})]}),e.jsxs(i,{sx:{display:"flex",gap:1},children:[e.jsx(D,{size:"small",sx:{minWidth:100},children:e.jsxs(w,{value:n.lengthOfStay,onChange:r("lengthOfStay"),displayEmpty:!0,children:[e.jsx(u,{value:"Minimum",children:"Minimum"}),e.jsx(u,{value:"Maximum",children:"Maximum"}),e.jsx(u,{value:"Exact",children:"Exact"})]})}),e.jsx(c,{size:"small",value:n.lengthOfStayValue,onChange:r("lengthOfStayValue"),type:"number",sx:{width:80}})]})]}),e.jsxs(i,{sx:{mb:3},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Max uses"}),e.jsx(m,{title:"Set maximum usage limit",children:e.jsx(o,{size:"small",sx:{ml:.5,p:.5},children:e.jsx(d,{icon:"solar:eye-bold",width:16})})})]}),e.jsx(c,{fullWidth:!0,placeholder:"Unlimited uses",value:n.maxUses,onChange:r("maxUses"),size:"small"})]}),e.jsxs(i,{sx:{mb:3},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Check-in dates"}),e.jsx(m,{title:"Set valid check-in date range",children:e.jsx(o,{size:"small",sx:{ml:.5,p:.5},children:e.jsx(d,{icon:"solar:eye-bold",width:16})})})]}),e.jsxs(i,{sx:{display:"flex",gap:1},children:[e.jsx(c,{size:"small",label:"From",type:"date",value:n.checkInFrom,onChange:r("checkInFrom"),InputLabelProps:{shrink:!0}}),e.jsx(c,{size:"small",label:"To",type:"date",value:n.checkInTo,onChange:r("checkInTo"),InputLabelProps:{shrink:!0}})]})]}),e.jsxs(i,{sx:{mb:3},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Validity"}),e.jsx(m,{title:"Set coupon validity period",children:e.jsx(o,{size:"small",sx:{ml:.5,p:.5},children:e.jsx(d,{icon:"solar:eye-bold",width:16})})})]}),e.jsxs(i,{sx:{display:"flex",gap:1},children:[e.jsx(c,{size:"small",label:"From",type:"date",value:n.validityFrom,onChange:r("validityFrom"),InputLabelProps:{shrink:!0}}),e.jsx(c,{size:"small",label:"To",type:"date",value:n.validityTo,onChange:r("validityTo"),InputLabelProps:{shrink:!0}})]})]})]}),e.jsxs(i,{sx:{display:"flex",gap:2,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[e.jsx(x,{variant:"outlined",onClick:j,sx:{flex:1},children:"Cancel"}),e.jsx(x,{variant:"contained",onClick:W,disabled:!n.name.trim()||!n.amount.trim(),sx:{flex:1},children:p?"Update":"Add coupon"})]})]})}),e.jsxs(G,{open:M,onClose:C,maxWidth:"sm",fullWidth:!0,children:[e.jsx(J,{children:e.jsx(a,{variant:"h6",sx:{fontWeight:600},children:"Are you sure want to delete coupon?"})}),e.jsx(K,{children:e.jsx(a,{variant:"body1",children:"There will be no way to restore this information."})}),e.jsxs(Q,{children:[e.jsx(x,{onClick:C,variant:"outlined",children:"Cancel"}),e.jsx(x,{onClick:E,variant:"contained",color:"error",children:"Delete coupon"})]})]})]})}export{oe as CouponsView};
