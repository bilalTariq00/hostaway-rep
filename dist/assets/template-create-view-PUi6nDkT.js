import{D as se,r as i,j as e,B as t,I as b,T as a,a as A,x as M,e as r,g as te,a4 as R}from"./index-DlK49mD9.js";import{D as ae}from"./content-BncdO-AK.js";import{A as L}from"./arrow-left-oo0y3C6Y.js";import{S as ie}from"./save-CQZiseXE.js";import{C as z}from"./Card-C2DhIU3E.js";import{T as n}from"./TextField-DGQVylbQ.js";import{C as re}from"./code-yqrHTZZs.js";import{I as D}from"./info-LH2MLhPO.js";import{F as g}from"./FormControl-DsPW8NaL.js";import{S as f}from"./Select-hkki-_gR.js";import{C as oe}from"./chevron-down-CCU2oTw6.js";import{C as O}from"./Checkbox-Cws__oH0.js";import{P as le}from"./Pagination-BTzUsZhy.js";import{F as ne}from"./FormControlLabel-DYCM3_AA.js";import"./InputLabel-vBrrCZYs.js";import"./Menu-Cd2TK2zY.js";import"./SwitchBase-D6K1hBX3.js";import"./LastPage-lp5Gj61X.js";const ce=[{id:305034,name:"La Dimora Del Cavaliere",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-1.webp",selected:!1},{id:305035,name:"Navigli",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-2.webp",selected:!1},{id:305225,name:"Polacchi42",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-3.webp",selected:!1},{id:305421,name:"Superattico - Via Del Corso 43",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-4.webp",selected:!1},{id:306532,name:"Montecatini Terme",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-5.webp",selected:!1},{id:308582,name:"Monteverde - Quattroventi",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-6.webp",selected:!1},{id:310867,name:"La Storta",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-1.webp",selected:!1},{id:317154,name:"[5 Min From Trastevere] Chic Apt",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-2.webp",selected:!1},{id:332386,name:"Via Poggio Tulliano",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-3.webp",selected:!1},{id:345603,name:"Via Dei Marruccini | San Lorenzo",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-4.webp",selected:!1},{id:363365,name:"Via di Acqua Bullicante 113",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-5.webp",selected:!1},{id:363366,name:"Via Matera 23A -",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-6.webp",selected:!1}];function We(){const v=se(),[d,P]=i.useState(""),[j,B]=i.useState(""),[p,V]=i.useState("#23c6c8"),[m,F]=i.useState(""),[y,N]=i.useState(""),[c,E]=i.useState(""),[C,H]=i.useState(""),[Q,G]=i.useState(""),[x,S]=i.useState(ce),[k,J]=i.useState(!1),[q,Y]=i.useState(!1),[w,_]=i.useState(1),h=12,T=s=>{S(o=>o.map(l=>l.id===s?{...l,selected:!l.selected}:l))},$=()=>{J(!k),S(s=>s.map(o=>({...o,selected:!k})))},K=()=>{const s={id:Date.now(),name:d,description:j,color:p,message:m,group:y||"General",channel:c||"All",listings:x.filter(u=>u.selected).length,channels:c?[c]:["Airbnb","Booking.com"],selectedListings:x.filter(u=>u.selected)},l=[...JSON.parse(localStorage.getItem("messageTemplates")||"[]"),s];localStorage.setItem("messageTemplates",JSON.stringify(l)),v.push("/inbox/templates")},U=()=>{v.push("/inbox/templates")},I=x.filter(s=>s.name.toLowerCase().includes(C.toLowerCase())),W=(w-1)*h,X=W+h,Z=I.slice(W,X),ee=Math.ceil(I.length/h);return e.jsxs(ae,{maxWidth:"xl",children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(b,{sx:{p:1},onClick:U,children:e.jsx(L,{size:20})}),e.jsx(a,{variant:"h4",sx:{fontWeight:600},children:"Template"})]}),e.jsx(A,{variant:"contained",startIcon:e.jsx(ie,{size:20}),onClick:K,disabled:!d.trim()||!m.trim(),sx:{bgcolor:"#23c6c8","&:hover":{bgcolor:"#1fb3b5"},"&:disabled":{bgcolor:"grey.300"},px:3,py:1.5,borderRadius:2},children:"Save"})]}),e.jsxs(t,{sx:{display:"flex",gap:4},children:[e.jsx(t,{sx:{flex:1,maxWidth:600},children:e.jsxs(z,{sx:{p:3,mb:3},children:[e.jsx(a,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Template Details"}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(a,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Template name *"}),e.jsx(n,{fullWidth:!0,placeholder:"Template name",value:d,onChange:s=>P(s.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(a,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Template description"}),e.jsx(n,{fullWidth:!0,placeholder:"Template description",value:j,onChange:s=>B(s.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(a,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Template color:"}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(t,{sx:{width:40,height:40,borderRadius:"50%",bgcolor:p,border:"2px solid #e0e0e0",cursor:"pointer"}}),e.jsx(n,{value:p,onChange:s=>V(s.target.value),sx:{width:120,"& .MuiOutlinedInput-root":{borderRadius:2}}})]})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(a,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Message *"}),e.jsxs(t,{sx:{position:"relative"},children:[e.jsx(n,{fullWidth:!0,multiline:!0,rows:6,placeholder:"Message",value:m,onChange:s=>F(s.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),e.jsx(b,{sx:{position:"absolute",top:8,right:8,bgcolor:"grey.100","&:hover":{bgcolor:"grey.200"}},children:e.jsx(re,{size:16})})]})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Link to group template"}),e.jsx(M,{title:"Link this template to a group template",children:e.jsx(D,{size:16,color:"#666"})})]}),e.jsx(g,{fullWidth:!0,children:e.jsxs(f,{value:y,onChange:s=>N(s.target.value),displayEmpty:!0,sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{borderColor:"#e0e0e0"}},children:[e.jsx(r,{value:"",children:e.jsx("em",{children:"Link to group template"})}),e.jsx(r,{value:"welcome",children:"Welcome Template"}),e.jsx(r,{value:"checkin",children:"Check-in Template"}),e.jsx(r,{value:"checkout",children:"Check-out Template"})]})})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(a,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Channel"}),e.jsx(g,{fullWidth:!0,children:e.jsxs(f,{value:c,onChange:s=>E(s.target.value),displayEmpty:!0,sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{borderColor:"#e0e0e0"}},children:[e.jsx(r,{value:"",children:e.jsx("em",{children:"Channel"})}),e.jsx(r,{value:"airbnb",children:"Airbnb"}),e.jsx(r,{value:"booking",children:"Booking.com"}),e.jsx(r,{value:"direct",children:"Direct Booking"})]})})]})]})}),e.jsx(t,{sx:{flex:1,maxWidth:600},children:e.jsxs(z,{sx:{p:3},children:[e.jsx(a,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Listings"}),e.jsxs(t,{sx:{display:"flex",gap:2,mb:3},children:[e.jsx(n,{placeholder:"Type to search listings",value:C,onChange:s=>H(s.target.value),sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:2}}}),e.jsx(g,{sx:{minWidth:150},children:e.jsxs(f,{value:Q,onChange:s=>G(s.target.value),displayEmpty:!0,startAdornment:e.jsx(te,{position:"start",children:e.jsx(oe,{size:16})}),sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{borderColor:"#e0e0e0"}},children:[e.jsx(r,{value:"",children:e.jsx("em",{children:"Select tags"})}),e.jsx(r,{value:"apartment",children:"Apartment"}),e.jsx(r,{value:"house",children:"House"}),e.jsx(r,{value:"villa",children:"Villa"})]})}),e.jsx(A,{variant:"contained",onClick:$,sx:{bgcolor:"#23c6c8","&:hover":{bgcolor:"#1fb3b5"},borderRadius:2,px:3},children:"Select all"})]}),e.jsx(t,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:2,mb:3,maxHeight:400,overflowY:"auto"},children:Z.map(s=>e.jsxs(R,{sx:{p:2,display:"flex",alignItems:"center",gap:2,cursor:"pointer",border:"1px solid #e0e0e0",borderRadius:2,"&:hover":{borderColor:"#23c6c8",boxShadow:"0 2px 8px rgba(35, 198, 200, 0.1)"}},onClick:()=>T(s.id),children:[e.jsx(t,{sx:{width:60,height:40,borderRadius:1,backgroundImage:`url('${s.image}')`,backgroundSize:"cover",backgroundPosition:"center",flexShrink:0}}),e.jsxs(t,{sx:{flex:1,minWidth:0},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500,mb:.5},children:s.name}),e.jsx(a,{variant:"caption",color:"text.secondary",children:s.id})]}),e.jsx(O,{checked:s.selected,onChange:()=>T(s.id),sx:{flexShrink:0}})]},s.id))}),e.jsx(t,{sx:{display:"flex",justifyContent:"center",mb:3},children:e.jsx(le,{count:ee,page:w,onChange:(s,o)=>_(o),color:"primary",size:"small"})}),e.jsx(ne,{control:e.jsx(O,{checked:q,onChange:s=>Y(s.target.checked)}),label:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(a,{variant:"body2",children:"Automatically apply template to new listings"}),e.jsx(M,{title:"This will automatically apply this template to any new listings you add",children:e.jsx(D,{size:16,color:"#666"})})]})})]})})]}),e.jsxs(t,{sx:{position:"fixed",bottom:20,right:20,zIndex:1e3},children:[e.jsxs(R,{sx:{p:2,mb:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",alignItems:"center",gap:1},children:[e.jsx(a,{variant:"body2",children:"Hi. Need any help?"}),e.jsx(b,{size:"small",children:e.jsx(L,{size:16})})]}),e.jsxs(t,{sx:{width:50,height:50,bgcolor:"#ff6b35",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[e.jsx(a,{variant:"h6",sx:{color:"white",fontWeight:600},children:"3"}),e.jsx(t,{sx:{position:"absolute",top:-5,right:-5,width:20,height:20,bgcolor:"#ff0000",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(a,{variant:"caption",sx:{color:"white",fontSize:"10px"},children:"3"})})]})]})]})}export{We as TemplateCreateView};
