import{D as ae,r as l,j as e,B as a,T as r,a as h,d,a4 as f,e as s,P as le}from"./index-DlK49mD9.js";import{D as oe}from"./content-BncdO-AK.js";import{T as ce,a as I}from"./Tabs-CawWx8bN.js";import{G as c}from"./Grid-CFPLP85A.js";import{T as P}from"./TextField-DGQVylbQ.js";import{F as u}from"./FormControl-DsPW8NaL.js";import{I as x}from"./InputLabel-vBrrCZYs.js";import{S as g}from"./Select-hkki-_gR.js";import{T as de}from"./TableContainer-1FovwQIv.js";import{T as he,a as ue,b as D,c as n,d as xe}from"./TableHead-BbeVJGli.js";import{P as ge}from"./Pagination-BTzUsZhy.js";import{M as me}from"./Menu-Cd2TK2zY.js";import{F as ve}from"./FormControlLabel-DYCM3_AA.js";import{C as je}from"./Checkbox-Cws__oH0.js";import"./KeyboardArrowRight-B0juUeOl.js";import"./LastPage-lp5Gj61X.js";import"./SwitchBase-D6K1hBX3.js";const L=[{id:1,guestName:"Enrique GuzmÃ¡n De La Vega",reservationId:"38968192",externalReservationId:"305035-guest-526039194-confirmation-HMFT3XXWR5",listingName:"Navigli",listingExternalName:"[Navigli] Beautiful Apartment in MILAN Near TRAM",listingId:"305035",channel:"Airbnb",origin:"Host",checkIn:"2025-08-10 15:00:00",checkOut:"2025-08-14 10:00:00",status:"Published",schedule:"2 day checklist",triggerEvent:"2 days after check-out",overallReview:"Gentilissimi, speriamo di poterli ospitare di nuovo al piÃ¹ presto â¤ï¸",rating:5},{id:2,guestName:"Enrique GuzmÃ¡n De La Vega",reservationId:"38968192",externalReservationId:"305035-guest-526039194-confirmation-HMFT3XXWR5",listingName:"Navigli",listingExternalName:"[Navigli] Beautiful Apartment in MILAN Near TRAM",listingId:"305035",channel:"Airbnb",origin:"Guest",checkIn:"2025-08-10 15:00:00",checkOut:"2025-08-14 10:00:00",status:"Published",schedule:"",triggerEvent:"",overallReview:"",rating:0},{id:3,guestName:"Luis Aguilera Pernas",reservationId:"45716494",externalReservationId:"305035-guest-534176264-confirmation-HMPQJ5CJH2",listingName:"Navigli",listingExternalName:"[Navigli] Beautiful Apartment in MILAN Near TRAM",listingId:"305035",channel:"Airbnb",origin:"Host",checkIn:"2025-08-14 15:00:00",checkOut:"2025-08-17 10:00:00",status:"Published",schedule:"2 day checklist",triggerEvent:"2 days after check-out",overallReview:"El apartamento esta muy bien ubicado con muchos bares cerca, y bien equipado. Tuvimos un problema con el aire acondicionicionado y Manu... More",rating:5},{id:4,guestName:"Luis Aguilera Pernas",reservationId:"45716494",externalReservationId:"305035-guest-534176264-confirmation-HMPQJ5CJH2",listingName:"Navigli",listingExternalName:"[Navigli] Beautiful Apartment in MILAN Near TRAM",listingId:"305035",channel:"Airbnb",origin:"Guest",checkIn:"2025-08-14 15:00:00",checkOut:"2025-08-17 10:00:00",status:"Published",schedule:"",triggerEvent:"",overallReview:"Ottimi ospiti speriamo di poterli riaccogliere ðŸ˜Š",rating:5},{id:5,guestName:"Agata Szydlo",reservationId:"46339070",externalReservationId:"6523373137",listingName:"Navigli",listingExternalName:"[Navigli] Beautiful Apartment in MILAN Near TRAM",listingId:"305035",channel:"Booking.com",origin:"Guest",checkIn:"2025-08-17 15:00:00",checkOut:"2025-08-19 10:00:00",status:"Pending",schedule:"",triggerEvent:"",overallReview:"La casa perfecta para una estancia de vacaciones en MilÃ¡n, cerca del transporte pÃºblico, acogedora y muy bonita, muy cÃ³moda para ... More",rating:5}];function Oe(){const m=ae(),[B,G]=l.useState(0),[k,H]=l.useState(0),[p]=l.useState(25),[N,R]=l.useState(null),[F,C]=l.useState(""),[J,y]=l.useState(""),[V,W]=l.useState(""),[X,T]=l.useState(""),[q,E]=l.useState(""),[Q,S]=l.useState(""),[Y,w]=l.useState(""),[A,M]=l.useState(null),[t,b]=l.useState({guestName:!0,reservationId:!0,externalReservationId:!0,listingName:!0,listingExternalName:!0,listingId:!0,channel:!0,origin:!0,checkIn:!0,checkOut:!0,status:!0,schedule:!0,triggerEvent:!0,overallReview:!0,rating:!0}),_=(i,o)=>{G(o),o===1&&m.push("/reviews/auto-reviews"),o===2&&m.push("/reviews/templates")},$=i=>{R(i.currentTarget)},v=()=>{R(null)},K=()=>{C(""),y(""),W(""),T(""),E(""),S(""),w("")},U=i=>{M(i.currentTarget)},Z=()=>{M(null)},ee=i=>{b(o=>({...o,[i]:!o[i]}))},ie=i=>{m.push(`/reservations/${i}`)},z=i=>{m.push(`/listings/${i}`)},te=Math.ceil(L.length/p),O=k*p,ne=O+p,se=L.slice(O,ne),re=i=>Array.from({length:5},(o,j)=>e.jsx(a,{component:"span",sx:{color:j<i?"#ffc107":"#e0e0e0",fontSize:16,display:"inline-block",width:16,height:16,"&::before":{content:'"â˜…"'}}},j));return e.jsxs(oe,{maxWidth:"xl",children:[e.jsxs(a,{sx:{mb:3},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:600},children:"Reviews"}),e.jsx(h,{variant:"outlined",onClick:$,startIcon:e.jsx(d,{icon:"eva:download-fill"}),children:"Download Report"})]}),e.jsxs(ce,{value:B,onChange:_,sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{textTransform:"none",fontWeight:500},"& .Mui-selected":{color:"primary.main",fontWeight:600},"& .MuiTabs-indicator":{bgcolor:"primary.main"}},children:[e.jsx(I,{label:"Manage Reviews"}),e.jsx(I,{label:"Auto Reviews"}),e.jsx(I,{label:"Review Templates"})]})]}),e.jsx(f,{sx:{p:2,mb:3},children:e.jsxs(c,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(c,{size:{xs:12,sm:6,md:2},children:e.jsx(P,{fullWidth:!0,type:"date",label:"From",value:F,onChange:i=>C(i.target.value),size:"small",InputLabelProps:{shrink:!0}})}),e.jsx(c,{size:{xs:12,sm:6,md:2},children:e.jsx(P,{fullWidth:!0,type:"date",label:"To",value:J,onChange:i=>y(i.target.value),size:"small",InputLabelProps:{shrink:!0}})}),e.jsx(c,{size:{xs:12,sm:6,md:2},children:e.jsxs(u,{fullWidth:!0,size:"small",children:[e.jsx(x,{children:"Status"}),e.jsxs(g,{value:V,label:"Status",onChange:i=>W(i.target.value),children:[e.jsx(s,{value:"",children:"All Status"}),e.jsx(s,{value:"published",children:"Published"}),e.jsx(s,{value:"pending",children:"Pending"}),e.jsx(s,{value:"draft",children:"Draft"}),e.jsx(s,{value:"rejected",children:"Rejected"})]})]})}),e.jsx(c,{size:{xs:12,sm:6,md:2},children:e.jsxs(u,{fullWidth:!0,size:"small",children:[e.jsx(x,{children:"Guest"}),e.jsxs(g,{value:X,label:"Guest",onChange:i=>T(i.target.value),children:[e.jsx(s,{value:"",children:"All Guests"}),e.jsx(s,{value:"john",children:"John Smith"}),e.jsx(s,{value:"sarah",children:"Sarah Johnson"}),e.jsx(s,{value:"mike",children:"Mike Wilson"}),e.jsx(s,{value:"emily",children:"Emily Davis"}),e.jsx(s,{value:"david",children:"David Brown"})]})]})}),e.jsx(c,{size:{xs:12,sm:6,md:2},children:e.jsxs(u,{fullWidth:!0,size:"small",children:[e.jsx(x,{children:"Listing"}),e.jsxs(g,{value:q,label:"Listing",onChange:i=>E(i.target.value),children:[e.jsx(s,{value:"",children:"All Listings"}),e.jsx(s,{value:"villa",children:"Villa Del Sol"}),e.jsx(s,{value:"navigli",children:"Navigli Apartment"}),e.jsx(s,{value:"polacchi",children:"Polacchi42"}),e.jsx(s,{value:"superattico",children:"Superattico - Via Del C..."})]})]})}),e.jsx(c,{size:{xs:12,sm:6,md:2},children:e.jsxs(u,{fullWidth:!0,size:"small",children:[e.jsx(x,{children:"Tags"}),e.jsxs(g,{value:Q,label:"Tags",onChange:i=>S(i.target.value),children:[e.jsx(s,{value:"",children:"All Tags"}),e.jsx(s,{value:"positive",children:"Positive"}),e.jsx(s,{value:"negative",children:"Negative"}),e.jsx(s,{value:"neutral",children:"Neutral"}),e.jsx(s,{value:"follow-up",children:"Follow-up Required"})]})]})}),e.jsx(c,{size:{xs:12,sm:6,md:2},children:e.jsxs(u,{fullWidth:!0,size:"small",children:[e.jsx(x,{children:"Origin"}),e.jsxs(g,{value:Y,label:"Origin",onChange:i=>w(i.target.value),children:[e.jsx(s,{value:"",children:"All Origins"}),e.jsx(s,{value:"direct",children:"Direct"}),e.jsx(s,{value:"ota",children:"OTA"}),e.jsx(s,{value:"website",children:"Website"}),e.jsx(s,{value:"mobile",children:"Mobile App"})]})]})}),e.jsx(c,{size:{xs:12,sm:6,md:2},children:e.jsx(h,{variant:"outlined",onClick:K,startIcon:e.jsx(d,{icon:"eva:refresh-fill"}),fullWidth:!0,children:"Reset"})})]})}),e.jsxs(f,{sx:{mb:3},children:[e.jsxs(a,{sx:{p:2,borderBottom:1,borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(r,{variant:"h6",children:"Reviews Table"}),e.jsx(h,{variant:"outlined",size:"small",startIcon:e.jsx(d,{icon:"eva:settings-fill"}),onClick:U,children:"Column Settings"})]}),e.jsx(de,{sx:{maxHeight:600,overflowX:"auto",overflowY:"auto",scrollBehavior:"smooth","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"#c1c1c1",borderRadius:"4px","&:hover":{background:"#a8a8a8"}}},children:e.jsxs(he,{stickyHeader:!0,sx:{"& .MuiTableHead-root":{position:"sticky",top:0,zIndex:2,backgroundColor:"background.paper"},"& .MuiTableCell-root":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"& .MuiTableRow-root":{"&:hover":{backgroundColor:"action.hover"}}},children:[e.jsx(ue,{children:e.jsxs(D,{children:[t.guestName&&e.jsx(n,{sx:{position:"sticky",left:0,bgcolor:"background.paper",zIndex:3,minWidth:150,borderRight:"1px solid",borderColor:"divider"},children:"Guest Name"}),t.reservationId&&e.jsx(n,{sx:{minWidth:120},children:"Reservation ID"}),t.externalReservationId&&e.jsx(n,{sx:{minWidth:200},children:"External Reservation ID"}),t.listingName&&e.jsx(n,{sx:{minWidth:120},children:"Listing Name"}),t.listingExternalName&&e.jsx(n,{sx:{minWidth:250},children:"Listing External Name"}),t.listingId&&e.jsx(n,{sx:{minWidth:100},children:"Listing ID"}),t.channel&&e.jsx(n,{sx:{minWidth:100},children:"Channel"}),t.origin&&e.jsx(n,{sx:{minWidth:80},children:"Origin"}),t.checkIn&&e.jsx(n,{sx:{minWidth:150},children:"Check-in"}),t.checkOut&&e.jsx(n,{sx:{minWidth:150},children:"Check-out"}),t.status&&e.jsx(n,{sx:{minWidth:120},children:"Status"}),t.schedule&&e.jsx(n,{sx:{minWidth:120},children:"Schedule"}),t.triggerEvent&&e.jsx(n,{sx:{minWidth:150},children:"Trigger Event"}),t.overallReview&&e.jsx(n,{sx:{minWidth:300},children:"Overall Review"}),t.rating&&e.jsx(n,{sx:{minWidth:100},children:"Rating"})]})}),e.jsx(xe,{children:se.map(i=>e.jsxs(D,{hover:!0,children:[t.guestName&&e.jsx(n,{sx:{position:"sticky",left:0,bgcolor:"background.paper",zIndex:2,borderRight:"1px solid",borderColor:"divider"},children:e.jsx(r,{variant:"body2",sx:{fontWeight:500,color:"primary.main",cursor:"pointer"},children:i.guestName})}),t.reservationId&&e.jsx(n,{sx:{minWidth:120},children:e.jsx(r,{variant:"body2",sx:{color:"primary.main",cursor:"pointer"},onClick:()=>ie(i.reservationId),children:i.reservationId})}),t.externalReservationId&&e.jsx(n,{sx:{minWidth:200},children:e.jsx(r,{variant:"body2",children:i.externalReservationId})}),t.listingName&&e.jsx(n,{sx:{minWidth:120},children:e.jsx(r,{variant:"body2",sx:{color:"primary.main",cursor:"pointer"},onClick:()=>z(i.listingId),children:i.listingName})}),t.listingExternalName&&e.jsx(n,{sx:{minWidth:250},children:e.jsx(r,{variant:"body2",sx:{color:"primary.main",cursor:"pointer"},onClick:()=>z(i.listingId),children:i.listingExternalName})}),t.listingId&&e.jsx(n,{sx:{minWidth:100},children:e.jsx(r,{variant:"body2",children:i.listingId})}),t.channel&&e.jsx(n,{sx:{minWidth:100},children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(a,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:i.channel==="Airbnb"?"error.main":"primary.main"}}),e.jsx(r,{variant:"body2",children:i.channel})]})}),t.origin&&e.jsx(n,{sx:{minWidth:80},children:e.jsx(r,{variant:"body2",children:i.origin})}),t.checkIn&&e.jsx(n,{sx:{minWidth:150},children:e.jsx(r,{variant:"body2",children:i.checkIn})}),t.checkOut&&e.jsx(n,{sx:{minWidth:150},children:e.jsx(r,{variant:"body2",children:i.checkOut})}),t.status&&e.jsx(n,{sx:{minWidth:120},children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.status==="Published"?e.jsx(a,{sx:{width:16,height:16,borderRadius:1,bgcolor:"success.main",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px"},children:"âœ“"}):i.status==="Pending"?e.jsx(a,{sx:{width:16,height:16,borderRadius:"50%",bgcolor:"warning.main"}}):null,e.jsx(r,{variant:"body2",children:i.status})]})}),t.schedule&&e.jsx(n,{sx:{minWidth:120},children:e.jsx(r,{variant:"body2",children:i.schedule||"-"})}),t.triggerEvent&&e.jsx(n,{sx:{minWidth:150},children:e.jsx(r,{variant:"body2",children:i.triggerEvent||"-"})}),t.overallReview&&e.jsx(n,{sx:{minWidth:300},children:e.jsxs(r,{variant:"body2",sx:{maxWidth:300},children:[i.overallReview,i.overallReview.includes("More")&&e.jsx(r,{component:"span",sx:{color:"primary.main",ml:1},children:"More"})]})}),t.rating&&e.jsx(n,{sx:{minWidth:100},children:e.jsx(a,{sx:{display:"flex",alignItems:"center",gap:.5},children:re(i.rating)})})]},i.id))})]})})]}),e.jsx(f,{sx:{p:2},children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:"Show 25 per page"}),e.jsx(ge,{count:te,page:k+1,onChange:(i,o)=>H(o-1),color:"primary"})]})}),e.jsxs(me,{anchorEl:N,open:!!N,onClose:v,children:[e.jsxs(s,{onClick:v,children:[e.jsx(d,{icon:"eva:file-text-fill",sx:{mr:1}}),"Export to Excel"]}),e.jsxs(s,{onClick:v,children:[e.jsx(d,{icon:"eva:file-pdf-fill",sx:{mr:1}}),"Export to PDF"]}),e.jsxs(s,{onClick:v,children:[e.jsx(d,{icon:"eva:file-csv-fill",sx:{mr:1}}),"Export to CSV"]})]}),e.jsx(le,{open:!!A,anchorEl:A,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:e.jsxs(a,{sx:{p:2,minWidth:250},children:[e.jsx(r,{variant:"h6",sx:{mb:2},children:"Show/Hide Columns"}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Select which columns to display in the table"}),e.jsx(a,{sx:{display:"flex",flexDirection:"column",gap:1,maxHeight:300,overflowY:"auto"},children:Object.entries(t).map(([i,o])=>{const j={guestName:"Guest Name",reservationId:"Reservation ID",externalReservationId:"External Reservation ID",listingName:"Listing Name",listingExternalName:"Listing External Name",listingId:"Listing ID",channel:"Channel",origin:"Origin",checkIn:"Check-in",checkOut:"Check-out",status:"Status",schedule:"Schedule",triggerEvent:"Trigger Event",overallReview:"Overall Review",rating:"Rating"};return e.jsx(ve,{control:e.jsx(je,{checked:o,onChange:()=>ee(i),size:"small"}),label:j[i]||i,sx:{"& .MuiFormControlLabel-label":{fontSize:"0.875rem"}}},i)})}),e.jsxs(a,{sx:{mt:2,pt:2,borderTop:1,borderColor:"divider"},children:[e.jsx(h,{size:"small",onClick:()=>{b({guestName:!0,reservationId:!0,externalReservationId:!0,listingName:!0,listingExternalName:!0,listingId:!0,channel:!0,origin:!0,checkIn:!0,checkOut:!0,status:!0,schedule:!0,triggerEvent:!0,overallReview:!0,rating:!0})},children:"Show All"}),e.jsx(h,{size:"small",onClick:()=>{b({guestName:!0,reservationId:!0,externalReservationId:!1,listingName:!0,listingExternalName:!1,listingId:!0,channel:!0,origin:!0,checkIn:!0,checkOut:!0,status:!0,schedule:!1,triggerEvent:!1,overallReview:!0,rating:!0})},sx:{ml:1},children:"Show Essential"})]})]})})]})}export{Oe as ManageReviewsView};
