import{H as T,r as p,j as e,B as i,T as s,A as n,a7 as b,C as g,a1 as f,F as u,bm as L}from"./index-DDMGUD-_.js";import{D as U}from"./content-DAzX26cm.js";import{G as t}from"./Grid-CFM_c-Vf.js";import{C as l}from"./Card-C1fEEBVz.js";import{C as o}from"./CardContent-Bmb6KKQR.js";import{S as a}from"./Stack-B9BpzM62.js";import{B}from"./building-2-ARET-4eE.js";import{M as I}from"./map-pin-D7szlGeT.js";import{S as z}from"./star-toYtlyOf.js";import{C as m}from"./CardHeader-BtOJpbTN.js";import{C as N}from"./calendar-C8D0Jpcj.js";import{C as W}from"./clock-DKhyGhJk.js";function Z(){const{user:c}=T(),[y,w]=p.useState([]),[v,S]=p.useState([]),[d,A]=p.useState(null),[x,P]=p.useState(null);p.useEffect(()=>{if(c){const D=JSON.parse(localStorage.getItem("clients")||"[]").filter(j=>{var h;return(h=c.assignedClients)==null?void 0:h.includes(j.id)});w(D);const R=[{id:"305034",name:"La Dimora Del Cavaliere",location:"Anguillara Sabazia, Italy",clientId:"client1"},{id:"305035",name:"Navigli",location:"Milano, Italy",clientId:"client1"},{id:"305225",name:"Polacchi42",location:"Roma, Italy",clientId:"client2"},{id:"305421",name:"Superattico - Via Del Corso 43",location:"Roma, Italy",clientId:"client2"},{id:"306532",name:"Montecatini Terme",location:"Montecatini Terme, Italy",clientId:"client3"},{id:"306533",name:"Tuscany Villa",location:"Florence, Italy",clientId:"client3"},{id:"306534",name:"Coastal Retreat",location:"Amalfi, Italy",clientId:"client4"}].filter(j=>{var h;return(h=c.assignedProperties)==null?void 0:h.includes(j.id)});S(R);const C=JSON.parse(localStorage.getItem("createdUsers")||"[]");if(c.assignedManager){const j=C.find(h=>h.id===c.assignedManager);A(j||null)}if(c.assignedSupervisor){const j=C.find(h=>h.id===c.assignedSupervisor);P(j||null)}}},[c]);const k=r=>{switch(r){case"active":return"success";case"inactive":return"warning";case"suspended":return"error";default:return"default"}},M=r=>{switch(r){case"active":return"Active";case"inactive":return"Inactive";case"suspended":return"Suspended";default:return"Active"}};return e.jsxs(U,{maxWidth:"xl",children:[e.jsxs(i,{sx:{mb:3},children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"Associate Dashboard"}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:["Welcome back, ",c==null?void 0:c.name,"! Here's your assigned clients, properties, and current tasks."]})]}),e.jsxs(t,{container:!0,spacing:3,sx:{mb:3},children:[e.jsx(t,{size:{xs:12,sm:6,md:3},children:e.jsx(l,{children:e.jsx(o,{children:e.jsxs(a,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(n,{sx:{bgcolor:"primary.main"},children:e.jsx(B,{size:24})}),e.jsxs(i,{children:[e.jsx(s,{variant:"h4",children:y.length}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Assigned Clients"})]})]})})})}),e.jsx(t,{size:{xs:12,sm:6,md:3},children:e.jsx(l,{children:e.jsx(o,{children:e.jsxs(a,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(n,{sx:{bgcolor:"secondary.main"},children:e.jsx(I,{size:24})}),e.jsxs(i,{children:[e.jsx(s,{variant:"h4",children:v.length}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Properties"})]})]})})})}),e.jsx(t,{size:{xs:12,sm:6,md:3},children:e.jsx(l,{children:e.jsx(o,{children:e.jsxs(a,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(n,{sx:{bgcolor:"success.main"},children:e.jsx(b,{size:24})}),e.jsxs(i,{children:[e.jsx(s,{variant:"h4",children:"12"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Tasks Completed"})]})]})})})}),e.jsx(t,{size:{xs:12,sm:6,md:3},children:e.jsx(l,{children:e.jsx(o,{children:e.jsxs(a,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(n,{sx:{bgcolor:"warning.main"},children:e.jsx(z,{size:24})}),e.jsxs(i,{children:[e.jsx(s,{variant:"h4",children:"4.7"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Avg Rating"})]})]})})})})]}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(l,{children:[e.jsx(m,{title:"Assigned Clients"}),e.jsx(o,{children:y.length===0?e.jsx(s,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",py:2},children:"No clients assigned yet"}):e.jsx(a,{spacing:2,children:y.map(r=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:"primary.main"},children:r.name.charAt(0).toUpperCase()}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{variant:"subtitle2",children:r.name}),e.jsx(s,{variant:"caption",color:"text.secondary",children:r.email})]}),e.jsx(g,{label:M(r.status),color:k(r.status),size:"small"})]},r.id))})})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(l,{children:[e.jsx(m,{title:"Assigned Properties"}),e.jsx(o,{children:v.length===0?e.jsx(s,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",py:2},children:"No properties assigned yet"}):e.jsx(a,{spacing:2,children:v.map(r=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:"secondary.main"},children:e.jsx(I,{size:16})}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{variant:"subtitle2",children:r.name}),e.jsx(s,{variant:"caption",color:"text.secondary",children:r.location})]}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:["ID: ",r.id]})]},r.id))})})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(l,{children:[e.jsx(m,{title:"Management Team"}),e.jsx(o,{children:e.jsxs(a,{spacing:2,children:[d&&e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:d.avatar?"transparent":"info.main",backgroundImage:d.avatar?`url(${d.avatar})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:!d.avatar&&d.name.charAt(0).toUpperCase()}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{variant:"subtitle2",children:d.name}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Manager • ",d.email]})]}),e.jsx(g,{label:"Manager",color:"info",size:"small"})]}),x&&e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:x.avatar?"transparent":"warning.main",backgroundImage:x.avatar?`url(${x.avatar})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:!x.avatar&&x.name.charAt(0).toUpperCase()}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{variant:"subtitle2",children:x.name}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Supervisor • ",x.email]})]}),e.jsx(g,{label:"Supervisor",color:"warning",size:"small"})]}),!d&&!x&&e.jsx(s,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",py:2},children:"No manager or supervisor assigned"})]})})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(l,{children:[e.jsx(m,{title:"Performance Metrics"}),e.jsx(o,{children:e.jsxs(a,{spacing:3,children:[e.jsxs(i,{children:[e.jsxs(a,{direction:"row",justifyContent:"space-between",sx:{mb:1},children:[e.jsx(s,{variant:"body2",children:"Task Completion"}),e.jsx(s,{variant:"body2",sx:{fontWeight:600},children:"85%"})]}),e.jsx(f,{variant:"determinate",value:85,sx:{height:8,borderRadius:4}})]}),e.jsxs(i,{children:[e.jsxs(a,{direction:"row",justifyContent:"space-between",sx:{mb:1},children:[e.jsx(s,{variant:"body2",children:"Response Time"}),e.jsx(s,{variant:"body2",sx:{fontWeight:600},children:"2.3 hrs"})]}),e.jsx(f,{variant:"determinate",value:75,sx:{height:8,borderRadius:4}})]}),e.jsxs(i,{children:[e.jsxs(a,{direction:"row",justifyContent:"space-between",sx:{mb:1},children:[e.jsx(s,{variant:"body2",children:"Client Satisfaction"}),e.jsx(s,{variant:"body2",sx:{fontWeight:600},children:"4.7/5"})]}),e.jsx(f,{variant:"determinate",value:94,sx:{height:8,borderRadius:4}})]})]})})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(l,{children:[e.jsx(m,{title:"Current Tasks"}),e.jsx(o,{children:e.jsxs(a,{spacing:2,children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:"success.main",width:32,height:32},children:e.jsx(b,{size:16})}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{variant:"body2",children:"Property inspection - La Dimora Del Cavaliere"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Due: Today, 3:00 PM"})]}),e.jsx(g,{label:"High Priority",color:"error",size:"small"})]}),e.jsx(u,{}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:"warning.main",width:32,height:32},children:e.jsx(L,{size:16})}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{variant:"body2",children:"Client meeting - Luxury Rentals LLC"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Due: Tomorrow, 10:00 AM"})]}),e.jsx(g,{label:"Medium Priority",color:"warning",size:"small"})]}),e.jsx(u,{}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:"info.main",width:32,height:32},children:e.jsx(N,{size:16})}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{variant:"body2",children:"Weekly report submission"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Due: Friday, 5:00 PM"})]}),e.jsx(g,{label:"Low Priority",color:"info",size:"small"})]})]})})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(l,{children:[e.jsx(m,{title:"Recent Activity"}),e.jsx(o,{children:e.jsxs(a,{spacing:2,children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:"success.main",width:32,height:32},children:e.jsx(b,{size:16})}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{variant:"body2",children:"Completed property maintenance check"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"2 hours ago"})]})]}),e.jsx(u,{}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:"info.main",width:32,height:32},children:e.jsx(z,{size:16})}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{variant:"body2",children:"Received 5-star client review"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"1 day ago"})]})]}),e.jsx(u,{}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:"warning.main",width:32,height:32},children:e.jsx(W,{size:16})}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(s,{variant:"body2",children:"Scheduled client meeting"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"3 days ago"})]})]})]})})]})})]})]})}export{Z as AssociateDashboardPage};
