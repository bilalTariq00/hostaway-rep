import{D as J,r as l,j as e,B as r,T as n,a as d,I as p,d as o,Y as U,Z as v,$ as D,e as k}from"./index-DlK49mD9.js";import{D as V}from"./content-BncdO-AK.js";import{T as Z,a as u}from"./Tabs-CawWx8bN.js";import{G as w}from"./Grid-CFPLP85A.js";import{C as q}from"./Card-C2DhIU3E.js";import{C as F}from"./CardContent-CO_bIGDJ.js";import{L as K}from"./ListItemIcon-BBbrMrpV.js";import{C as Q}from"./Checkbox-Cws__oH0.js";import{M as X}from"./Menu-Cd2TK2zY.js";import{D as I,a as S,b as A,c as M}from"./DialogContent-BrwwiAlS.js";import"./KeyboardArrowRight-B0juUeOl.js";import"./SwitchBase-D6K1hBX3.js";const _=[{id:1,name:"Property Inspection Checklist",tasks:["Check all lights and switches","Test air conditioning","Inspect bathroom fixtures","Check kitchen appliances","Verify internet connection","Test door locks and keys"]},{id:2,name:"Guest Welcome Checklist",tasks:["Prepare welcome package","Set up guest information folder","Check cleanliness standards","Verify amenities are working","Prepare local recommendations","Set up contact information"]},{id:3,name:"Post-Checkout Cleanup",tasks:["Remove all trash","Clean all surfaces","Wash and replace linens","Restock amenities","Check for damages","Prepare for next guests"]},{id:4,name:"Maintenance Checklist",tasks:["Check HVAC system","Inspect plumbing","Test electrical outlets","Check smoke detectors","Inspect exterior areas","Document any issues"]},{id:5,name:"Emergency Preparedness",tasks:["Check emergency contacts","Verify first aid kit","Test emergency lighting","Check fire extinguishers","Review evacuation procedures","Update emergency information"]},{id:6,name:"Seasonal Maintenance",tasks:["Check heating system","Inspect windows and doors","Clean gutters","Check outdoor furniture","Prepare for weather changes","Update seasonal amenities"]}];function me(){const i=J(),[W,z]=l.useState(2),[j,C]=l.useState(null),[c,a]=l.useState(null),[E,h]=l.useState(!1),[O,m]=l.useState(!1),[P,g]=l.useState([]),y=()=>{const s=localStorage.getItem("checklistTemplates");return s?JSON.parse(s):_};l.useEffect(()=>{g(y())},[]);const B=(s,t)=>{z(t),t===0&&i.push("/tasks/manage-tasks"),t===1&&i.push("/tasks/manage-auto-tasks"),t===3&&i.push("/tasks/archive")},L=(s,t)=>{C(s.currentTarget),a(t)},x=()=>{C(null),a(null)},R=()=>{i.push("/tasks/checklist-templates/new")},N=()=>{c&&i.push(`/tasks/checklist-templates/${c.id}/edit`),x()},$=()=>{m(!0),x()},G=()=>{c&&i.push(`/tasks/checklist-templates/${c.id}/duplicate`),m(!1),a(null)},T=()=>{m(!1),a(null)},Y=()=>{h(!0),x()},H=()=>{if(c){const t=y().filter(f=>f.id!==c.id);localStorage.setItem("checklistTemplates",JSON.stringify(t)),g(t)}h(!1),a(null)},b=()=>{h(!1),a(null)};return e.jsxs(V,{maxWidth:"xl",children:[e.jsxs(r,{sx:{mb:3},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(n,{variant:"h4",sx:{fontWeight:600},children:"Tasks"}),e.jsx(d,{variant:"contained",onClick:R,children:"Add checklist template"})]}),e.jsxs(Z,{value:W,onChange:B,sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{textTransform:"none",fontWeight:500},"& .Mui-selected":{color:"primary.main",fontWeight:600},"& .MuiTabs-indicator":{bgcolor:"primary.main"}},children:[e.jsx(u,{label:"Manage Tasks"}),e.jsx(u,{label:"Manage Auto-tasks"}),e.jsx(u,{label:"Checklist Templates"}),e.jsx(u,{label:"Archive"})]})]}),e.jsx(w,{container:!0,spacing:3,children:P.map(s=>e.jsx(w,{size:{xs:12,sm:6,md:4},children:e.jsx(q,{sx:{height:"100%",display:"flex",flexDirection:"column","&:hover":{boxShadow:2}},children:e.jsxs(F,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,flex:1},children:s.name}),e.jsx(p,{size:"small",onClick:t=>L(t,s),children:e.jsx(o,{icon:"eva:more-vertical-fill",width:16})})]}),e.jsxs(n,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[s.tasks.length," tasks to complete"]}),e.jsxs(r,{sx:{flex:1},children:[e.jsx(n,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Tasks we have to do:"}),e.jsxs(U,{dense:!0,sx:{maxHeight:200,overflow:"auto"},children:[s.tasks.slice(0,4).map((t,f)=>e.jsxs(v,{sx:{py:.5,px:0},children:[e.jsx(K,{sx:{minWidth:32},children:e.jsx(Q,{size:"small",disabled:!0,sx:{p:.5}})}),e.jsx(D,{primary:e.jsx(n,{variant:"body2",sx:{fontSize:"0.875rem"},children:t})})]},f)),s.tasks.length>4&&e.jsx(v,{sx:{py:.5,px:0},children:e.jsx(D,{primary:e.jsxs(n,{variant:"caption",color:"text.secondary",children:["+",s.tasks.length-4," more tasks"]})})})]})]}),e.jsxs(r,{sx:{display:"flex",justifyContent:"flex-end",gap:1,mt:2},children:[e.jsx(p,{size:"small",onClick:()=>i.push(`/tasks/checklist-templates/${s.id}/edit`),children:e.jsx(o,{icon:"eva:edit-fill",width:16})}),e.jsx(p,{size:"small",onClick:()=>{a(s),m(!0)},children:e.jsx(o,{icon:"eva:copy-fill",width:16})}),e.jsx(p,{size:"small",sx:{color:"error.main"},onClick:()=>{a(s),h(!0)},children:e.jsx(o,{icon:"eva:trash-2-fill",width:16})})]})]})})},s.id))}),e.jsxs(X,{anchorEl:j,open:!!j,onClose:x,children:[e.jsxs(k,{onClick:N,children:[e.jsx(o,{icon:"eva:edit-fill",sx:{mr:1}}),"Edit"]}),e.jsxs(k,{onClick:$,children:[e.jsx(o,{icon:"eva:copy-fill",sx:{mr:1}}),"Duplicate"]}),e.jsxs(k,{onClick:Y,sx:{color:"error.main"},children:[e.jsx(o,{icon:"eva:trash-2-fill",sx:{mr:1}}),"Delete"]})]}),e.jsxs(I,{open:O,onClose:T,children:[e.jsx(S,{children:"Duplicate?"}),e.jsx(A,{children:e.jsx(n,{children:'Are you sure you want to duplicate this checklist template? This will create a copy with "(Copy)" added to the name.'})}),e.jsxs(M,{children:[e.jsx(d,{onClick:T,children:"No"}),e.jsx(d,{onClick:G,variant:"contained",children:"Yes"})]})]}),e.jsxs(I,{open:E,onClose:b,children:[e.jsx(S,{children:"Delete?"}),e.jsx(A,{children:e.jsx(n,{children:"Are you sure you want to delete this checklist template? This action cannot be undone."})}),e.jsxs(M,{children:[e.jsx(d,{onClick:b,children:"No"}),e.jsx(d,{onClick:H,color:"error",variant:"contained",children:"Yes"})]})]})]})}export{me as ChecklistTemplatesView};
