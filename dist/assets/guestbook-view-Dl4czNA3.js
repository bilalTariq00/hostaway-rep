import{r,j as e,B as l,T as s,a as o,d as x,a4 as M,g as de,C as D,I as P,e as c}from"./index-DlK49mD9.js";import{D as he}from"./content-BncdO-AK.js";import{T as d}from"./TextField-DGQVylbQ.js";import{F as I}from"./FormControlLabel-DYCM3_AA.js";import{C as w}from"./Checkbox-Cws__oH0.js";import{T as me}from"./TableContainer-1FovwQIv.js";import{T as xe,a as je,b as H,c as t,d as ue}from"./TableHead-BbeVJGli.js";import{P as pe}from"./Pagination-BTzUsZhy.js";import{D as J,a as Y,b as V,c as _}from"./DialogContent-BrwwiAlS.js";import{S as ge}from"./Select-hkki-_gR.js";import"./InputLabel-vBrrCZYs.js";import"./FormControl-DsPW8NaL.js";import"./SwitchBase-D6K1hBX3.js";import"./LastPage-lp5Gj61X.js";import"./Menu-Cd2TK2zY.js";const fe=[{id:1,firstName:"John",lastName:"Smith",email:"john.smith@email.com",phone:"+1 555-0123",idNumber:"ID123456789",idPhoto:"Uploaded",selfie:"Uploaded",dateOfBirth:"1985-03-15",city:"New York",country:"United States",reservations:3,relatedProperties:"La Dimora Del Cavaliere",agreeToMarketing:!0},{id:2,firstName:"Maria",lastName:"Garcia",email:"maria.garcia@email.com",phone:"+34 666-7890",idNumber:"ES987654321",idPhoto:"Uploaded",selfie:"Pending",dateOfBirth:"1990-07-22",city:"Madrid",country:"Spain",reservations:1,relatedProperties:"Navigli",agreeToMarketing:!1},{id:3,firstName:"David",lastName:"Johnson",email:"david.johnson@email.com",phone:"+44 777-4567",idNumber:"UK456789123",idPhoto:"Pending",selfie:"Uploaded",dateOfBirth:"1988-11-08",city:"London",country:"United Kingdom",reservations:2,relatedProperties:"Polacchi42",agreeToMarketing:!0}];function ze(){const[j,U]=r.useState(""),[p,W]=r.useState(""),[z,A]=r.useState(!1),[G,L]=r.useState(!1),[E,q]=r.useState(1),[g]=r.useState(20),[Q,f]=r.useState(!1),[y,v]=r.useState(!1),[B,b]=r.useState(null),[X,C]=r.useState(!1),[R,N]=r.useState(null),[k,S]=r.useState(fe),[n,m]=r.useState({firstName:"",lastName:"",email:"",phone:"",city:"",country:"",agreeToMarketing:!1}),Z=()=>{U(""),W(""),A(!1),L(!1)},$=()=>{v(!1),b(null),m({firstName:"",lastName:"",email:"",phone:"",city:"",country:"",agreeToMarketing:!1}),f(!0)},u=()=>{f(!1),v(!1),b(null),m({firstName:"",lastName:"",email:"",phone:"",city:"",country:"",agreeToMarketing:!1})},h=a=>i=>{m({...n,[a]:i.target.value})},ee=a=>i=>{m({...n,[a]:i.target.checked})},ae=()=>{if(y&&B)S(a=>a.map(i=>i.id===B?{...i,firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,city:n.city,country:n.country,agreeToMarketing:n.agreeToMarketing}:i));else{const a={id:Math.max(...k.map(i=>i.id),0)+1,firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,idNumber:"ID"+Math.random().toString(36).substr(2,9).toUpperCase(),idPhoto:"Pending",selfie:"Pending",dateOfBirth:"1990-01-01",city:n.city,country:n.country,reservations:0,relatedProperties:"La Dimora Del Cavaliere",agreeToMarketing:n.agreeToMarketing};S(i=>[...i,a])}u()},te=a=>{const i=k.find(T=>T.id===a);i&&(v(!0),b(a),m({firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,city:i.city,country:i.country,agreeToMarketing:i.agreeToMarketing}),f(!0))},ne=a=>{N(a),C(!0)},ie=()=>{R&&(S(a=>a.filter(i=>i.id!==R)),C(!1),N(null))},F=()=>{C(!1),N(null)},O=k.filter(a=>{const i=a.firstName.toLowerCase().includes(j.toLowerCase())||a.lastName.toLowerCase().includes(j.toLowerCase())||a.city.toLowerCase().includes(j.toLowerCase()),T=!p||a.country===p,oe=!z||a.reservations>0,ce=!G||a.agreeToMarketing;return i&&T&&oe&&ce}),se=Math.ceil(O.length/g),K=(E-1)*g,re=K+g,le=O.slice(K,re);return e.jsxs(he,{maxWidth:"xl",children:[e.jsx(l,{sx:{mb:3},children:e.jsxs(l,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(s,{variant:"h4",sx:{fontWeight:600},children:"Guestbook"}),e.jsxs(l,{sx:{display:"flex",gap:1},children:[e.jsx(o,{variant:"contained",onClick:$,children:"Add"}),e.jsx(o,{variant:"outlined",endIcon:e.jsx(x,{icon:"eva:arrow-down-fill"}),children:"Download Report"})]})]})}),e.jsx(M,{sx:{p:2,mb:3},children:e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(d,{size:"small",placeholder:"Search by guest name or city...",value:j,onChange:a=>U(a.target.value),InputProps:{startAdornment:e.jsx(de,{position:"start",children:e.jsx(x,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{minWidth:300}}),e.jsxs(d,{select:!0,size:"small",placeholder:"Select Country",value:p,onChange:a=>W(a.target.value),sx:{minWidth:150},SelectProps:{native:!0},children:[e.jsx("option",{value:"",children:"All Countries"}),e.jsx("option",{value:"United States",children:"United States"}),e.jsx("option",{value:"Spain",children:"Spain"}),e.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),e.jsx("option",{value:"Italy",children:"Italy"}),e.jsx("option",{value:"France",children:"France"})]}),e.jsx(I,{control:e.jsx(w,{checked:z,onChange:a=>A(a.target.checked)}),label:"Has Reservation"}),e.jsx(I,{control:e.jsx(w,{checked:G,onChange:a=>L(a.target.checked)}),label:"Agree to Marketing Email"}),e.jsx(o,{variant:"outlined",onClick:Z,children:"Reset"})]})}),e.jsx(M,{sx:{mb:3},children:e.jsx(me,{children:e.jsxs(xe,{children:[e.jsx(je,{children:e.jsxs(H,{children:[e.jsx(t,{children:"First Name"}),e.jsx(t,{children:"Last Name"}),e.jsx(t,{children:"Email"}),e.jsx(t,{children:"Phone Number"}),e.jsx(t,{children:"ID Number"}),e.jsx(t,{children:"ID Photo"}),e.jsx(t,{children:"Selfie"}),e.jsx(t,{children:"Date of Birth"}),e.jsx(t,{children:"City"}),e.jsx(t,{children:"Country"}),e.jsx(t,{children:"Reservations"}),e.jsx(t,{children:"Related Properties"}),e.jsx(t,{children:"Agree to Marketing"}),e.jsx(t,{align:"center",children:"Actions"})]})}),e.jsx(ue,{children:le.map(a=>e.jsxs(H,{children:[e.jsx(t,{children:e.jsx(s,{variant:"body2",sx:{fontWeight:500},children:a.firstName})}),e.jsx(t,{children:e.jsx(s,{variant:"body2",sx:{fontWeight:500},children:a.lastName})}),e.jsx(t,{children:e.jsx(s,{variant:"body2",children:a.email})}),e.jsx(t,{children:e.jsx(s,{variant:"body2",children:a.phone})}),e.jsx(t,{children:e.jsx(s,{variant:"body2",children:a.idNumber})}),e.jsx(t,{children:e.jsx(D,{label:a.idPhoto,size:"small",color:a.idPhoto==="Uploaded"?"success":"warning"})}),e.jsx(t,{children:e.jsx(D,{label:a.selfie,size:"small",color:a.selfie==="Uploaded"?"success":"warning"})}),e.jsx(t,{children:e.jsx(s,{variant:"body2",children:new Date(a.dateOfBirth).toLocaleDateString()})}),e.jsx(t,{children:e.jsx(s,{variant:"body2",children:a.city})}),e.jsx(t,{children:e.jsx(s,{variant:"body2",children:a.country})}),e.jsx(t,{children:e.jsx(s,{variant:"body2",sx:{fontWeight:500},children:a.reservations})}),e.jsx(t,{children:e.jsx(s,{variant:"body2",children:a.relatedProperties})}),e.jsx(t,{children:e.jsx(D,{label:a.agreeToMarketing?"Yes":"No",size:"small",color:a.agreeToMarketing?"success":"default"})}),e.jsx(t,{align:"center",children:e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(P,{size:"small",onClick:()=>te(a.id),sx:{color:"text.secondary","&:hover":{color:"primary.main",bgcolor:"primary.50"}},children:e.jsx(x,{icon:"solar:pen-bold",width:16})}),e.jsx(P,{size:"small",onClick:()=>ne(a.id),sx:{color:"text.secondary","&:hover":{color:"error.main",bgcolor:"error.50"}},children:e.jsx(x,{icon:"solar:trash-bin-trash-bold",width:16})})]})})]},a.id))})]})})}),e.jsx(M,{sx:{p:2},children:e.jsxs(l,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(s,{variant:"body2",color:"text.secondary",children:"Show 20 per page"}),e.jsx(pe,{count:se,page:E,onChange:(a,i)=>q(i),color:"primary"})]})}),e.jsxs(J,{open:Q,onClose:u,maxWidth:"sm",fullWidth:!0,children:[e.jsx(Y,{children:e.jsxs(l,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(s,{variant:"h6",sx:{fontWeight:600},children:y?"Edit Guest":"Add new guest"}),e.jsx(P,{onClick:u,size:"small",children:e.jsx(x,{icon:"solar:trash-bin-trash-bold",width:20})})]})}),e.jsx(V,{children:e.jsxs(l,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[e.jsx(d,{fullWidth:!0,label:"First Name",value:n.firstName,onChange:h("firstName"),size:"small"}),e.jsx(d,{fullWidth:!0,label:"Last Name",value:n.lastName,onChange:h("lastName"),size:"small"}),e.jsx(d,{fullWidth:!0,label:"Email",type:"email",value:n.email,onChange:h("email"),size:"small"}),e.jsx(d,{fullWidth:!0,label:"Phone",value:n.phone,onChange:h("phone"),size:"small"}),e.jsx(d,{fullWidth:!0,label:"City",value:n.city,onChange:h("city"),size:"small"}),e.jsxs(ge,{fullWidth:!0,value:n.country,onChange:h("country"),displayEmpty:!0,size:"small",children:[e.jsx(c,{value:"",children:"Choose country"}),e.jsx(c,{value:"United States",children:"United States"}),e.jsx(c,{value:"Spain",children:"Spain"}),e.jsx(c,{value:"United Kingdom",children:"United Kingdom"}),e.jsx(c,{value:"Italy",children:"Italy"}),e.jsx(c,{value:"France",children:"France"}),e.jsx(c,{value:"Germany",children:"Germany"})]}),e.jsx(I,{control:e.jsx(w,{checked:n.agreeToMarketing,onChange:ee("agreeToMarketing")}),label:"Agreed to marketing e-mails"})]})}),e.jsxs(_,{children:[e.jsx(o,{onClick:u,variant:"outlined",children:"Cancel"}),e.jsx(o,{onClick:ae,variant:"contained",disabled:!n.firstName.trim()||!n.lastName.trim()||!n.email.trim(),children:y?"Update":"Add"})]})]}),e.jsxs(J,{open:X,onClose:F,maxWidth:"sm",fullWidth:!0,children:[e.jsx(Y,{children:e.jsx(s,{variant:"h6",sx:{fontWeight:600},children:"Delete Guest"})}),e.jsx(V,{children:e.jsx(s,{variant:"body1",children:"Are you sure you want to delete this guest? This action cannot be undone."})}),e.jsxs(_,{children:[e.jsx(o,{onClick:F,variant:"outlined",children:"Cancel"}),e.jsx(o,{onClick:ie,variant:"contained",color:"error",children:"Delete"})]})]})]})}export{ze as GuestbookView};
