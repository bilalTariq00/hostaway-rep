import{D as Y,r,j as e,B as t,I as w,T as a,a as k,e as i,g as _,a4 as I,x as $}from"./index-DlK49mD9.js";import{D as K}from"./content-BncdO-AK.js";import{A as T}from"./arrow-left-oo0y3C6Y.js";import{S as U}from"./save-CQZiseXE.js";import{C as A}from"./Card-C2DhIU3E.js";import{T as m}from"./TextField-DGQVylbQ.js";import{F as W}from"./FormControl-DsPW8NaL.js";import{S as L}from"./Select-hkki-_gR.js";import{C as X}from"./chevron-down-CCU2oTw6.js";import{C as R}from"./Checkbox-Cws__oH0.js";import{P as Z}from"./Pagination-BTzUsZhy.js";import{F as ee}from"./FormControlLabel-DYCM3_AA.js";import{I as se}from"./info-LH2MLhPO.js";import"./InputLabel-vBrrCZYs.js";import"./Menu-Cd2TK2zY.js";import"./SwitchBase-D6K1hBX3.js";import"./LastPage-lp5Gj61X.js";const te=[{id:305034,name:"La Dimora Del Cavaliere",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-1.webp",selected:!1},{id:305035,name:"Navigli",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-2.webp",selected:!1},{id:305225,name:"Polacchi42",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-3.webp",selected:!1},{id:305421,name:"Superattico - Via Del Corso 43",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-4.webp",selected:!1},{id:306532,name:"Montecatini Terme",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-5.webp",selected:!1},{id:308582,name:"Monteverde - Quattroventi",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-6.webp",selected:!1},{id:310867,name:"La Storta",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-1.webp",selected:!1},{id:317154,name:"[5 Min From Trastevere] Chic Apt",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-2.webp",selected:!1},{id:332386,name:"Via Poggio Tulliano",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-3.webp",selected:!1},{id:345603,name:"Via Dei Marruccini | San Lorenzo",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-4.webp",selected:!1},{id:363365,name:"Via di Acqua Bullicante 113",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-5.webp",selected:!1},{id:363366,name:"Via Matera 23A -",image:"https://pub-c5e31b5cdafb419fb247a8ac2e78df7a.r2.dev/public/assets/images/mock/cover/cover-6.webp",selected:!1}];function je(){const x=Y(),[c,D]=r.useState(""),[u,M]=r.useState(""),[h,z]=r.useState(""),[b,P]=r.useState(""),[G,O]=r.useState(""),[n,g]=r.useState(te),[f,B]=r.useState(!1),[v,V]=r.useState(!1),[j,F]=r.useState(1),d=12,y=s=>{g(o=>o.map(l=>l.id===s?{...l,selected:!l.selected}:l))},N=()=>{B(!f),g(s=>s.map(o=>({...o,selected:!f})))},E=()=>{const s={id:Date.now(),name:c,description:u,channel:h||"All",listings:n.filter(p=>p.selected).length,selectedListings:n.filter(p=>p.selected),autoApply:v},l=[...JSON.parse(localStorage.getItem("templateGroups")||"[]"),s];localStorage.setItem("templateGroups",JSON.stringify(l)),x.push("/inbox/templates")},H=()=>{x.push("/inbox/templates")},C=n.filter(s=>s.name.toLowerCase().includes(b.toLowerCase())),S=(j-1)*d,Q=S+d,J=C.slice(S,Q),q=Math.ceil(C.length/d);return e.jsxs(K,{maxWidth:"xl",children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(w,{sx:{p:1},onClick:H,children:e.jsx(T,{size:20})}),e.jsx(a,{variant:"h4",sx:{fontWeight:600},children:"Template group"})]}),e.jsx(k,{variant:"contained",startIcon:e.jsx(U,{size:20}),onClick:E,disabled:!c.trim(),sx:{bgcolor:"#23c6c8","&:hover":{bgcolor:"#1fb3b5"},"&:disabled":{bgcolor:"grey.300"},px:3,py:1.5,borderRadius:2},children:"Save"})]}),e.jsxs(t,{sx:{display:"flex",gap:4},children:[e.jsx(t,{sx:{flex:1,maxWidth:600},children:e.jsxs(A,{sx:{p:3,mb:3},children:[e.jsx(a,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Template Group Details"}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(a,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Template group name *"}),e.jsx(m,{fullWidth:!0,placeholder:"Template group name",value:c,onChange:s=>D(s.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(a,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Template group description"}),e.jsx(m,{fullWidth:!0,placeholder:"Template group description",value:u,onChange:s=>M(s.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(a,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Channel"}),e.jsx(W,{fullWidth:!0,children:e.jsxs(L,{value:h,onChange:s=>z(s.target.value),displayEmpty:!0,sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{borderColor:"#e0e0e0"}},children:[e.jsx(i,{value:"",children:e.jsx("em",{children:"Channel"})}),e.jsx(i,{value:"airbnb",children:"Airbnb"}),e.jsx(i,{value:"booking",children:"Booking.com"}),e.jsx(i,{value:"direct",children:"Direct Booking"})]})})]})]})}),e.jsx(t,{sx:{flex:1,maxWidth:600},children:e.jsxs(A,{sx:{p:3},children:[e.jsx(a,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Listings"}),e.jsxs(t,{sx:{display:"flex",gap:2,mb:3},children:[e.jsx(m,{placeholder:"Type to search listings",value:b,onChange:s=>P(s.target.value),sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:2}}}),e.jsx(W,{sx:{minWidth:150},children:e.jsxs(L,{value:G,onChange:s=>O(s.target.value),displayEmpty:!0,startAdornment:e.jsx(_,{position:"start",children:e.jsx(X,{size:16})}),sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{borderColor:"#e0e0e0"}},children:[e.jsx(i,{value:"",children:e.jsx("em",{children:"Select tags"})}),e.jsx(i,{value:"apartment",children:"Apartment"}),e.jsx(i,{value:"house",children:"House"}),e.jsx(i,{value:"villa",children:"Villa"})]})}),e.jsx(k,{variant:"contained",onClick:N,sx:{bgcolor:"#23c6c8","&:hover":{bgcolor:"#1fb3b5"},borderRadius:2,px:3},children:"Select all"})]}),e.jsx(t,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:2,mb:3,maxHeight:400,overflowY:"auto"},children:J.map(s=>e.jsxs(I,{sx:{p:2,display:"flex",alignItems:"center",gap:2,cursor:"pointer",border:"1px solid #e0e0e0",borderRadius:2,"&:hover":{borderColor:"#23c6c8",boxShadow:"0 2px 8px rgba(35, 198, 200, 0.1)"}},onClick:()=>y(s.id),children:[e.jsx(t,{sx:{width:60,height:40,borderRadius:1,backgroundImage:`url('${s.image}')`,backgroundSize:"cover",backgroundPosition:"center",flexShrink:0}}),e.jsxs(t,{sx:{flex:1,minWidth:0},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500,mb:.5},children:s.name}),e.jsx(a,{variant:"caption",color:"text.secondary",children:s.id})]}),e.jsx(R,{checked:s.selected,onChange:()=>y(s.id),sx:{flexShrink:0}})]},s.id))}),e.jsx(t,{sx:{display:"flex",justifyContent:"center",mb:3},children:e.jsx(Z,{count:q,page:j,onChange:(s,o)=>F(o),color:"primary",size:"small"})}),e.jsx(ee,{control:e.jsx(R,{checked:v,onChange:s=>V(s.target.checked)}),label:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(a,{variant:"body2",children:"Automatically apply template group to new listings"}),e.jsx($,{title:"This will automatically apply this template group to any new listings you add",children:e.jsx(se,{size:16,color:"#666"})})]})})]})})]}),e.jsxs(t,{sx:{position:"fixed",bottom:20,right:20,zIndex:1e3},children:[e.jsxs(I,{sx:{p:2,mb:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",alignItems:"center",gap:1},children:[e.jsx(a,{variant:"body2",children:"Hi. Need any help?"}),e.jsx(w,{size:"small",children:e.jsx(T,{size:16})})]}),e.jsxs(t,{sx:{width:50,height:50,bgcolor:"#ff6b35",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[e.jsx(a,{variant:"h6",sx:{color:"white",fontWeight:600},children:"3"}),e.jsx(t,{sx:{position:"absolute",top:-5,right:-5,width:20,height:20,bgcolor:"#ff0000",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(a,{variant:"caption",sx:{color:"white",fontSize:"10px"},children:"3"})})]})]})]})}export{je as TemplateGroupCreateView};
