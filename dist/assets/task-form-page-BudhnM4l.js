import{D as ue,a3 as xe,bi as me,r as w,j as e,B as d,I as G,d as C,T as h,a as E,e as i,bh as I}from"./index-DDMGUD-_.js";import{D as pe}from"./content-DAzX26cm.js";import{G as u}from"./Grid-CFM_c-Vf.js";import{T as v}from"./TextField-BZcg-6kp.js";import{C as b}from"./Card-C1fEEBVz.js";import{C as y}from"./CardContent-Bmb6KKQR.js";import{F as m}from"./FormControl-BRgYzLHi.js";import{I as p}from"./InputLabel-B_w9HMQG.js";import{S as g}from"./Select-DixiLax7.js";import{C as te}from"./Checkbox-DrgNyHeB.js";import{F as ge}from"./FormControlLabel-nlFIIXjS.js";import{R as je}from"./Rating-DG4vuuk-.js";import{D as fe,a as ve,b as be,c as ye}from"./DialogContent-CkHDAA-B.js";import"./Menu-Bm1ShPnp.js";import"./SwitchBase-s8UEUZOy.js";function Re(){const R=ue(),{id:S}=xe(),L=me(),W=L.pathname.includes("/edit"),z=L.pathname.includes("/duplicate"),x=L.pathname.includes("/view"),[a,k]=w.useState({title:"",description:"",startDate:"",startTime:"",endDate:"",endTime:"",category:"",listing:"",channel:"",reservation:"",status:"To Do",priority:"Medium",assignee:"",supervisor:"",group:"",cost:"",costCurrency:"USD",costDescription:"",autoGenerateExpense:!1,checklist:[],attachments:[],customFields:[],feedbackScore:0,resolutionNote:"",feedbackNote:""}),[se,F]=w.useState(!1),[N,P]=w.useState(!1),[O,ae]=w.useState([]),[U,$]=w.useState(!1);w.useEffect(()=>{(async()=>{$(!0);try{const r=localStorage.getItem("authToken");if(!r){$(!1);return}const l=await fetch(`${I}/api/users?status=active`,{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(l.ok){const n=await l.json();n.success&&n.data?(ae(n.data),console.log(`✅ Loaded ${n.data.length} users from database`)):console.error("Failed to load users:",n.message)}else{const n=await l.json().catch(()=>({message:"Unknown error"}));console.error("Error fetching users:",l.status,n.message),l.status===404&&console.error("⚠️ Users API endpoint not found. Please restart the server.")}}catch(r){console.error("Error fetching users:",r)}finally{$(!1)}})()},[]),w.useEffect(()=>{(async()=>{var r,l,n,j,A,T,V,H,J,K,Y,q,Q,X;if(!(!S||!W&&!x&&!z))try{const B=localStorage.getItem("authToken");if(!B)return;const Z=await fetch(`${I}/api/tasks/${S}`,{method:"GET",headers:{Authorization:`Bearer ${B}`}});if(Z.ok){const M=await Z.json();if(M.success&&M.data){const s=M.data,ee=s.checklist?s.checklist.map(D=>typeof D=="string"?D:D.item||""):[];W||x?k({title:s.title||"",description:s.description||"",startDate:s.startDate?new Date(s.startDate).toISOString().split("T")[0]:"",startTime:s.startTime||"",endDate:s.endDate?new Date(s.endDate).toISOString().split("T")[0]:"",endTime:s.endTime||"",category:s.category||"",listing:s.listing||"",channel:s.channel||"",reservation:s.reservation||"",status:s.status||"To Do",priority:s.priority||"Medium",assignee:((l=(r=s.assignee)==null?void 0:r._id)==null?void 0:l.toString())||((n=s.assignee)==null?void 0:n.toString())||"",supervisor:((A=(j=s.supervisor)==null?void 0:j._id)==null?void 0:A.toString())||((T=s.supervisor)==null?void 0:T.toString())||"",group:s.group||"",cost:((V=s.cost)==null?void 0:V.toString())||"",costCurrency:s.costCurrency||"USD",costDescription:s.costDescription||"",autoGenerateExpense:s.autoGenerateExpense||!1,checklist:ee,attachments:s.attachments||[],customFields:Array.isArray(s.customFields)?s.customFields.map(D=>{let f=D.value??"";if(D.type==="date"&&f){if(f instanceof Date)f=f.toISOString().split("T")[0];else if(typeof f=="string")try{f=new Date(f).toISOString().split("T")[0]}catch{f=""}}return{name:D.name||"",value:f,type:D.type||"text"}}):[],feedbackScore:s.feedbackScore||0,resolutionNote:s.resolutionNote||"",feedbackNote:s.feedbackNote||""}):z&&k({title:`${s.title||""} (Copy)`,description:s.description||"",startDate:s.startDate?new Date(s.startDate).toISOString().split("T")[0]:"",startTime:s.startTime||"",endDate:s.endDate?new Date(s.endDate).toISOString().split("T")[0]:"",endTime:s.endTime||"",category:s.category||"",listing:s.listing||"",channel:s.channel||"",reservation:s.reservation||"",status:"To Do",priority:s.priority||"Medium",assignee:((J=(H=s.assignee)==null?void 0:H._id)==null?void 0:J.toString())||((K=s.assignee)==null?void 0:K.toString())||"",supervisor:((q=(Y=s.supervisor)==null?void 0:Y._id)==null?void 0:q.toString())||((Q=s.supervisor)==null?void 0:Q.toString())||"",group:s.group||"",cost:((X=s.cost)==null?void 0:X.toString())||"",costCurrency:s.costCurrency||"USD",costDescription:s.costDescription||"",autoGenerateExpense:s.autoGenerateExpense||!1,checklist:ee,attachments:s.attachments||[],customFields:s.customFields||[],feedbackScore:0,resolutionNote:"",feedbackNote:""})}}}catch(B){console.error("Error fetching task:",B)}})()},[S,W,z,x]);const c=(t,r)=>{x||k(l=>({...l,[t]:r}))},_=()=>{x||k(t=>({...t,checklist:[...t.checklist,""]}))},ie=(t,r)=>{x||k(l=>({...l,checklist:l.checklist.map((n,j)=>j===t?r:n)}))},ne=t=>{x||k(r=>({...r,checklist:r.checklist.filter((l,n)=>n!==t)}))},re=async t=>{if(!t.target.files||t.target.files.length===0)return;const r=t.target.files[0];P(!0);try{const l=localStorage.getItem("authToken");if(!l||l.startsWith("mock-token-")){alert(`Please login with a real account to upload files. Use one of the seeded users:
- superadmin@hostaway.com / superadmin123
- manager@hostaway.com / manager123
- associate@hostaway.com / associate123
- team@hostaway.com / team123`),P(!1),t.target.value="";return}const n=new FormData;n.append("file",r);const j=await fetch(`${I}/api/uploads`,{method:"POST",headers:{Authorization:`Bearer ${l}`},body:n});if(!j.ok){const T=await j.json().catch(()=>({message:"Upload failed"}));throw new Error(T.message||`Upload failed: ${j.status}`)}const A=await j.json();A.success?k(T=>({...T,attachments:[...T.attachments,A.data]})):alert(A.message||"File upload failed")}catch(l){console.error("File upload error:",l),alert(l.message||"File upload failed. Please try again.")}finally{P(!1),t.target.value=""}},le=t=>{x||k(r=>({...r,attachments:r.attachments.filter((l,n)=>n!==t)}))},oe=t=>{if(t===0)return"0 Bytes";const r=1024,l=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(r));return Math.round(t/Math.pow(r,n)*100)/100+" "+l[n]},ce=async()=>{if(!x)try{const t=localStorage.getItem("authToken");if(!t){alert("Not authenticated");return}const r={title:a.title,description:a.description,status:a.status,priority:a.priority||"Medium",assignee:a.assignee||null,supervisor:a.supervisor||null,group:a.group||"",listing:a.listing||"",channel:a.channel||"",reservation:a.reservation||"",category:a.category||"",startDate:a.startDate||null,startTime:a.startTime||"",endDate:a.endDate||null,endTime:a.endTime||"",dueDate:a.endDate||a.startDate||null,cost:a.cost?parseFloat(a.cost):0,costCurrency:a.costCurrency||"USD",costDescription:a.costDescription||"",autoGenerateExpense:a.autoGenerateExpense||!1,checklist:a.checklist.filter(n=>n.trim()!=="").map(n=>({item:n,completed:!1})),attachments:a.attachments||[],customFields:a.customFields.filter(n=>n.name.trim()!=="").map(n=>({name:n.name.trim(),value:n.type==="number"?n.value?parseFloat(n.value):0:n.type==="boolean"?!!n.value:n.type==="date"?n.value?new Date(n.value):null:n.value,type:n.type})),feedbackScore:a.feedbackScore||0,resolutionNote:a.resolutionNote||"",feedbackNote:a.feedbackNote||""};let l;if(W&&S?l=await fetch(`${I}/api/tasks/${S}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)}):l=await fetch(`${I}/api/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)}),l.ok){const n=await l.json();n.success?R.push("/tasks/manage-tasks"):alert(n.message||"Failed to save task")}else{const n=await l.json().catch(()=>({message:"Failed to save task"}));alert(n.message||"Failed to save task")}}catch(t){console.error("Error saving task:",t),alert("Failed to save task. Please try again.")}},de=async()=>{if(!S){F(!1);return}try{const t=localStorage.getItem("authToken");if(!t){alert("Authentication token not found. Please log in."),F(!1);return}const r=await fetch(`${I}/api/tasks/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(r.ok)alert("Task deleted successfully."),R.push("/tasks/archive");else{const l=await r.json().catch(()=>({message:"Unknown error"}));console.error("Error deleting task:",r.status,l.message),alert(l.message||"Failed to delete task.")}}catch(t){console.error("Error deleting task:",t),alert("Failed to delete task. Please try again.")}finally{F(!1)}},he=()=>x?"View Task":W?"Edit Task":z?"Duplicate Task":"Add Task",o=x;return e.jsxs(pe,{maxWidth:"lg",children:[e.jsx(d,{sx:{mb:3},children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(G,{onClick:()=>R.push("/tasks/archive"),children:e.jsx(C,{icon:"eva:arrow-back-fill"})}),e.jsx(h,{variant:"h4",sx:{fontWeight:600},children:he()})]}),!o&&e.jsx(E,{variant:"contained",onClick:ce,disabled:!a.title.trim(),children:"Save task"})]})}),e.jsxs(u,{container:!0,spacing:3,children:[e.jsxs(u,{size:{xs:12,md:8},children:[e.jsx(d,{sx:{mb:3},children:e.jsx(v,{fullWidth:!0,label:"Task title",value:a.title,onChange:t=>c("title",t.target.value),placeholder:"Enter task title...",disabled:o})}),e.jsx(b,{sx:{mb:3},children:e.jsxs(y,{children:[e.jsx(h,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Schedule"}),e.jsxs(u,{container:!0,spacing:2,children:[e.jsx(u,{size:{xs:12,sm:6},children:e.jsx(v,{fullWidth:!0,label:"Start date (Local time)",type:"date",value:a.startDate,onChange:t=>c("startDate",t.target.value),disabled:o,InputLabelProps:{shrink:!0}})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsxs(m,{fullWidth:!0,children:[e.jsx(p,{children:"Start time (Local time)"}),e.jsxs(g,{value:a.startTime,label:"Start time (Local time)",onChange:t=>c("startTime",t.target.value),disabled:o,children:[e.jsx(i,{value:"09:00",children:"09:00"}),e.jsx(i,{value:"10:00",children:"10:00"}),e.jsx(i,{value:"11:00",children:"11:00"}),e.jsx(i,{value:"12:00",children:"12:00"}),e.jsx(i,{value:"13:00",children:"13:00"}),e.jsx(i,{value:"14:00",children:"14:00"}),e.jsx(i,{value:"15:00",children:"15:00"}),e.jsx(i,{value:"16:00",children:"16:00"}),e.jsx(i,{value:"17:00",children:"17:00"})]})]})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsx(v,{fullWidth:!0,label:"End date (Local time)",type:"date",value:a.endDate,onChange:t=>c("endDate",t.target.value),disabled:o,InputLabelProps:{shrink:!0}})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsxs(m,{fullWidth:!0,children:[e.jsx(p,{children:"End time (Local time)"}),e.jsxs(g,{value:a.endTime,label:"End time (Local time)",onChange:t=>c("endTime",t.target.value),disabled:o,children:[e.jsx(i,{value:"09:00",children:"09:00"}),e.jsx(i,{value:"10:00",children:"10:00"}),e.jsx(i,{value:"11:00",children:"11:00"}),e.jsx(i,{value:"12:00",children:"12:00"}),e.jsx(i,{value:"13:00",children:"13:00"}),e.jsx(i,{value:"14:00",children:"14:00"}),e.jsx(i,{value:"15:00",children:"15:00"}),e.jsx(i,{value:"16:00",children:"16:00"}),e.jsx(i,{value:"17:00",children:"17:00"})]})]})})]})]})}),e.jsx(b,{sx:{mb:3},children:e.jsxs(y,{children:[e.jsx(h,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Details"}),e.jsx(h,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Description"}),e.jsx(v,{fullWidth:!0,multiline:!0,rows:4,value:a.description,onChange:t=>c("description",t.target.value),placeholder:"Enter description...",disabled:o})]})}),e.jsx(b,{sx:{mb:3},children:e.jsxs(y,{children:[e.jsx(h,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Link"}),e.jsxs(u,{container:!0,spacing:2,children:[e.jsx(u,{size:{xs:12,sm:6},children:e.jsxs(m,{fullWidth:!0,children:[e.jsx(p,{children:"Category"}),e.jsxs(g,{value:a.category,label:"Category",onChange:t=>c("category",t.target.value),disabled:o,children:[e.jsx(i,{value:"Inspection",children:"Inspection"}),e.jsx(i,{value:"Guest Service",children:"Guest Service"}),e.jsx(i,{value:"Maintenance",children:"Maintenance"}),e.jsx(i,{value:"Cleaning",children:"Cleaning"})]})]})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsxs(m,{fullWidth:!0,children:[e.jsx(p,{children:"Listing"}),e.jsxs(g,{value:a.listing,label:"Listing",onChange:t=>c("listing",t.target.value),disabled:o,children:[e.jsx(i,{value:"Beach Villa",children:"Beach Villa"}),e.jsx(i,{value:"Mountain Cabin",children:"Mountain Cabin"}),e.jsx(i,{value:"City Apartment",children:"City Apartment"})]})]})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsxs(m,{fullWidth:!0,children:[e.jsx(p,{children:"Channel"}),e.jsxs(g,{value:a.channel,label:"Channel",onChange:t=>c("channel",t.target.value),disabled:o,children:[e.jsx(i,{value:"Airbnb",children:"Airbnb"}),e.jsx(i,{value:"Booking.com",children:"Booking.com"}),e.jsx(i,{value:"Direct",children:"Direct"})]})]})}),e.jsx(u,{size:{xs:12,sm:6},children:e.jsxs(m,{fullWidth:!0,children:[e.jsx(p,{children:"Reservation"}),e.jsxs(g,{value:a.reservation,label:"Reservation",onChange:t=>c("reservation",t.target.value),disabled:o,children:[e.jsx(i,{value:"RES-001",children:"RES-001"}),e.jsx(i,{value:"RES-002",children:"RES-002"}),e.jsx(i,{value:"RES-003",children:"RES-003"})]})]})})]})]})}),e.jsx(b,{sx:{mb:3},children:e.jsxs(y,{children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(h,{variant:"h6",sx:{fontWeight:600},children:"Task checklist"}),!o&&e.jsx(E,{variant:"text",color:"primary",onClick:_,children:"ADD CHECKLIST"})]}),a.checklist.map((t,r)=>e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.jsx(te,{disabled:!0,sx:{p:.5}}),e.jsx(v,{fullWidth:!0,value:t,onChange:l=>ie(r,l.target.value),placeholder:"Enter checklist item...",disabled:o,size:"small"}),!o&&e.jsx(G,{size:"small",onClick:()=>ne(r),sx:{color:"error.main"},children:e.jsx(C,{icon:"eva:trash-2-fill"})})]},r)),a.checklist.length===0&&e.jsx(h,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",py:2},children:"No checklist items added yet."}),!o&&e.jsx(d,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:e.jsx(E,{variant:"contained",size:"small",onClick:_,startIcon:e.jsx(C,{icon:"eva:plus-fill"}),children:"Add"})})]})}),e.jsx(b,{sx:{mb:3},children:e.jsxs(y,{children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(h,{variant:"h6",sx:{fontWeight:600},children:"Attachments"}),!o&&e.jsxs("label",{children:[e.jsx("input",{type:"file",style:{display:"none"},onChange:re,disabled:N,accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.txt,.csv,.zip"}),e.jsx(E,{variant:"text",color:"primary",component:"span",disabled:N,startIcon:e.jsx(C,{icon:N?"eva:loader-fill":"eva:attach-fill"}),children:N?"Uploading...":"ADD ATTACHMENT"})]})]}),a.attachments.length===0?e.jsx(h,{variant:"body2",color:"text.secondary",children:"No attachments added yet."}):e.jsx(d,{sx:{display:"flex",flexDirection:"column",gap:1},children:a.attachments.map((t,r)=>{var l;return e.jsxs(d,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:1.5,border:1,borderColor:"divider",borderRadius:1,bgcolor:"background.paper"},children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:1,flex:1},children:[e.jsx(C,{icon:(l=t.type)!=null&&l.startsWith("image/")?"eva:image-fill":t.type==="application/pdf"?"eva:file-text-fill":"eva:file-fill",width:24}),e.jsxs(d,{sx:{flex:1,minWidth:0},children:[e.jsx(h,{variant:"body2",sx:{fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name}),e.jsx(h,{variant:"caption",color:"text.secondary",children:oe(t.size||0)})]})]}),e.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:.5},children:[t.url&&e.jsx(G,{size:"small",onClick:()=>window.open(`${I}${t.url}`,"_blank"),title:"View file",children:e.jsx(C,{icon:"eva:eye-fill",width:18})}),!o&&e.jsx(G,{size:"small",onClick:()=>le(r),color:"error",title:"Remove file",children:e.jsx(C,{icon:"eva:trash-2-fill",width:18})})]})]},r)})})]})})]}),e.jsxs(u,{size:{xs:12,md:4},children:[e.jsx(b,{sx:{mb:3},children:e.jsxs(y,{children:[e.jsx(h,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Status"}),e.jsxs(m,{fullWidth:!0,children:[e.jsx(p,{children:"Status"}),e.jsxs(g,{value:a.status,label:"Status",onChange:t=>c("status",t.target.value),disabled:o,children:[e.jsx(i,{value:"To Do",children:"To Do"}),e.jsx(i,{value:"In Progress",children:"In Progress"}),e.jsx(i,{value:"Done",children:"Done"}),e.jsx(i,{value:"Cancelled",children:"Cancelled"})]})]})]})}),e.jsx(b,{sx:{mb:3},children:e.jsxs(y,{children:[e.jsx(h,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Users"}),e.jsxs(d,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(m,{fullWidth:!0,children:[e.jsx(p,{children:"Assignee"}),e.jsxs(g,{value:a.assignee,label:"Assignee",onChange:t=>c("assignee",t.target.value),disabled:o||U,children:[e.jsx(i,{value:"",children:e.jsx("em",{children:"None"})}),U?e.jsx(i,{disabled:!0,children:"Loading users..."}):O.map(t=>e.jsxs(i,{value:t.id,children:[t.name," (",t.email,") - ",t.role]},t.id))]})]}),e.jsxs(m,{fullWidth:!0,children:[e.jsx(p,{children:"Supervisor"}),e.jsxs(g,{value:a.supervisor,label:"Supervisor",onChange:t=>c("supervisor",t.target.value),disabled:o||U,children:[e.jsx(i,{value:"",children:e.jsx("em",{children:"None"})}),U?e.jsx(i,{disabled:!0,children:"Loading users..."}):O.filter(t=>["super-admin","manager","supervisor"].includes(t.role)).map(t=>e.jsxs(i,{value:t.id,children:[t.name," (",t.email,") - ",t.role]},t.id))]})]}),e.jsxs(m,{fullWidth:!0,children:[e.jsx(p,{children:"Group"}),e.jsxs(g,{value:a.group,label:"Group",onChange:t=>c("group",t.target.value),disabled:o,children:[e.jsx(i,{value:"Maintenance Team",children:"Maintenance Team"}),e.jsx(i,{value:"Guest Services",children:"Guest Services"}),e.jsx(i,{value:"Cleaning Team",children:"Cleaning Team"})]})]})]})]})}),e.jsx(b,{sx:{mb:3},children:e.jsxs(y,{children:[e.jsx(h,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Cost"}),e.jsxs(d,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(d,{sx:{display:"flex",gap:1},children:[e.jsx(v,{fullWidth:!0,label:"Cost",value:a.cost,onChange:t=>c("cost",t.target.value),disabled:o,type:"number"}),e.jsxs(m,{sx:{minWidth:120},children:[e.jsx(p,{children:"Currency"}),e.jsxs(g,{value:a.costCurrency,label:"Currency",onChange:t=>c("costCurrency",t.target.value),disabled:o,children:[e.jsx(i,{value:"USD",children:"USD"}),e.jsx(i,{value:"EUR",children:"EUR"}),e.jsx(i,{value:"GBP",children:"GBP"})]})]})]}),e.jsx(v,{fullWidth:!0,multiline:!0,rows:2,label:"Cost description",value:a.costDescription,onChange:t=>c("costDescription",t.target.value),disabled:o}),e.jsx(ge,{control:e.jsx(te,{checked:a.autoGenerateExpense,onChange:t=>c("autoGenerateExpense",t.target.checked),disabled:o}),label:"Automatically generate an expense when the task is marked as done"})]})]})}),e.jsx(b,{sx:{mb:3},children:e.jsxs(y,{children:[e.jsx(h,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Resolution"}),e.jsxs(d,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(d,{children:[e.jsx(h,{variant:"body2",sx:{mb:1},children:"Feedback score"}),e.jsx(je,{value:a.feedbackScore,onChange:(t,r)=>c("feedbackScore",r||0),disabled:o})]}),e.jsx(v,{fullWidth:!0,multiline:!0,rows:2,label:"Resolution note",value:a.resolutionNote,onChange:t=>c("resolutionNote",t.target.value),disabled:o}),e.jsx(v,{fullWidth:!0,multiline:!0,rows:2,label:"Feedback note",value:a.feedbackNote,onChange:t=>c("feedbackNote",t.target.value),disabled:o})]})]})}),W&&e.jsx(d,{sx:{mt:2},children:e.jsx(E,{fullWidth:!0,variant:"outlined",color:"error",onClick:()=>F(!0),startIcon:e.jsx(C,{icon:"eva:trash-2-fill"}),children:"Delete Task"})})]})]}),e.jsxs(fe,{open:se,onClose:()=>F(!1),children:[e.jsx(ve,{children:"Delete?"}),e.jsx(be,{children:e.jsx(h,{children:"Are you sure you want to delete this task? This action cannot be undone."})}),e.jsxs(ye,{children:[e.jsx(E,{onClick:()=>F(!1),children:"No"}),e.jsx(E,{onClick:de,color:"error",variant:"contained",children:"Yes"})]})]})]})}export{Re as TaskFormPage};
