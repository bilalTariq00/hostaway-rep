import{D as N,r,j as e,B as t,I as c,d,T as n,a as h,a4 as O,V as P,F as q,x as k,e as o}from"./index-DlK49mD9.js";import{D as L}from"./content-BncdO-AK.js";import{T as G}from"./TableContainer-1FovwQIv.js";import{T as H,a as Y,b as F,c as a,d as J}from"./TableHead-BbeVJGli.js";import{T as K}from"./TextField-DGQVylbQ.js";import{F as Q}from"./FormControl-DsPW8NaL.js";import{S as U}from"./Select-hkki-_gR.js";import{F as X}from"./FormControlLabel-DYCM3_AA.js";import{S as Z}from"./Switch-Bj_iObyt.js";import{D as $,a as ee,b as se,c as ie}from"./DialogContent-BrwwiAlS.js";import"./InputLabel-vBrrCZYs.js";import"./Menu-Cd2TK2zY.js";import"./SwitchBase-D6K1hBX3.js";const le=[{id:1,name:"Guest ID Number",type:"Text",publicVariable:"guest_id_number"},{id:2,name:"Special Requests",type:"Text Area",publicVariable:"special_requests"},{id:3,name:"Emergency Contact",type:"Text",publicVariable:"emergency_contact"},{id:4,name:"Dietary Restrictions",type:"Dropdown",publicVariable:"dietary_restrictions"},{id:5,name:"Check-in Time Preference",type:"Time",publicVariable:"checkin_time_preference"}];function be(){const I=N(),[S,p]=r.useState(!1),[C,u]=r.useState(!1),[v,j]=r.useState(null),[W,b]=r.useState(!1),[D,f]=r.useState(null),[y,g]=r.useState(le),[l,x]=r.useState({name:"",type:"Text",public:!0}),V=()=>{I.push("/reservations")},E=()=>{u(!1),j(null),x({name:"",type:"Text",public:!0}),p(!0)},m=()=>{p(!1),u(!1),j(null),x({name:"",type:"Text",public:!0})},T=s=>i=>{x({...l,[s]:i.target.value})},_=s=>i=>{x({...l,[s]:i.target.checked})},A=()=>{if(C&&v)g(s=>s.map(i=>i.id===v?{...i,name:l.name,type:l.type,publicVariable:l.name.toLowerCase().replace(/\s+/g,"_")}:i));else{const s={id:Math.max(...y.map(i=>i.id),0)+1,name:l.name,type:l.type,publicVariable:l.name.toLowerCase().replace(/\s+/g,"_")};g(i=>[...i,s])}m()},z=s=>{const i=y.find(M=>M.id===s);i&&(u(!0),j(s),x({name:i.name,type:i.type,public:!0}),p(!0))},R=s=>{f(s),b(!0)},B=()=>{D&&(g(s=>s.filter(i=>i.id!==D)),b(!1),f(null))},w=()=>{b(!1),f(null)};return e.jsxs(L,{maxWidth:"xl",children:[e.jsxs(t,{sx:{mb:3},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(c,{onClick:V,sx:{mr:1},children:e.jsx(d,{icon:"eva:arrow-left-fill"})}),e.jsx(n,{variant:"h6",sx:{mr:2},children:"Reservations"})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(n,{variant:"h4",sx:{fontWeight:600},children:"Custom Fields"}),e.jsx(h,{variant:"contained",onClick:E,children:"Add Custom Field"})]})]}),e.jsx(O,{children:e.jsx(G,{children:e.jsxs(H,{children:[e.jsx(Y,{children:e.jsxs(F,{children:[e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Type"}),e.jsx(a,{children:"Public Variable"}),e.jsx(a,{align:"center",children:"Actions"})]})}),e.jsx(J,{children:y.map(s=>e.jsxs(F,{children:[e.jsx(a,{children:e.jsx(n,{variant:"body2",sx:{fontWeight:500},children:s.name})}),e.jsx(a,{children:e.jsx(n,{variant:"body2",children:s.type})}),e.jsx(a,{children:e.jsx(n,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"grey.100",px:1,py:.5,borderRadius:.5},children:s.publicVariable})}),e.jsx(a,{align:"center",children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(c,{size:"small",onClick:()=>z(s.id),children:e.jsx(d,{icon:"eva:edit-fill",width:16})}),e.jsx(c,{size:"small",onClick:()=>R(s.id),children:e.jsx(d,{icon:"eva:close-fill",width:16})})]})})]},s.id))})]})})}),e.jsx(P,{anchor:"right",open:S,onClose:m,sx:{"& .MuiDrawer-paper":{width:400,boxShadow:"-4px 0 20px rgba(0, 0, 0, 0.1)"}},children:e.jsxs(t,{sx:{p:3,height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600},children:C?"Edit custom field":"Add custom field"}),e.jsx(c,{onClick:m,size:"small",children:e.jsx(d,{icon:"solar:trash-bin-trash-bold",width:20})})]}),e.jsx(q,{sx:{mb:3}}),e.jsxs(t,{sx:{flex:1},children:[e.jsxs(t,{sx:{mb:3},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:500},children:"Custom field name"}),e.jsx(n,{component:"span",sx:{color:"error.main",ml:.5},children:"*"}),e.jsx(k,{title:"Enter a descriptive name for your custom field",children:e.jsx(c,{size:"small",sx:{ml:.5,p:.5},children:e.jsx(d,{icon:"solar:eye-bold",width:16})})})]}),e.jsx(K,{fullWidth:!0,placeholder:"Name",value:l.name,onChange:T("name"),size:"small",required:!0})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:500,mb:1},children:"Type"}),e.jsx(Q,{fullWidth:!0,size:"small",children:e.jsxs(U,{value:l.type,onChange:T("type"),displayEmpty:!0,children:[e.jsx(o,{value:"Text",children:"Text"}),e.jsx(o,{value:"Text Area",children:"Text Area"}),e.jsx(o,{value:"Number",children:"Number"}),e.jsx(o,{value:"Dropdown",children:"Dropdown"}),e.jsx(o,{value:"Date",children:"Date"}),e.jsx(o,{value:"Time",children:"Time"}),e.jsx(o,{value:"Checkbox",children:"Checkbox"})]})})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:500},children:"Public"}),e.jsx(k,{title:"Make this field visible to guests",children:e.jsx(c,{size:"small",sx:{ml:.5,p:.5},children:e.jsx(d,{icon:"solar:eye-bold",width:16})})})]}),e.jsx(X,{control:e.jsx(Z,{checked:l.public,onChange:_("public"),color:"primary"}),label:l.public?"Yes":"No",sx:{m:0}})]})]}),e.jsxs(t,{sx:{display:"flex",gap:2,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[e.jsx(h,{variant:"outlined",onClick:m,sx:{flex:1},children:"Cancel"}),e.jsx(h,{variant:"contained",onClick:A,disabled:!l.name.trim(),sx:{flex:1},children:"Save"})]})]})}),e.jsxs($,{open:W,onClose:w,maxWidth:"sm",fullWidth:!0,children:[e.jsx(ee,{children:e.jsx(n,{variant:"h6",sx:{fontWeight:600},children:"Delete Custom Field"})}),e.jsx(se,{children:e.jsx(n,{variant:"body1",children:"Are you sure you want to delete this custom field? This action cannot be undone."})}),e.jsxs(ie,{children:[e.jsx(h,{onClick:w,variant:"outlined",children:"Cancel"}),e.jsx(h,{onClick:B,variant:"contained",color:"error",children:"Delete"})]})]})]})}export{be as CustomFieldsView};
