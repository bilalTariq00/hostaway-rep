import{D as Ye,r as d,j as e,B as o,T as r,a as l,e as i,a4 as z,g as H,I as p,a5 as he,V as Qe,P as Ze}from"./index-DDMGUD-_.js";import{D as _e}from"./content-DAzX26cm.js";import{U as J}from"./upload-DcK8EMNO.js";import{D as Ke}from"./download-BkC7-9GN.js";import{M as xe}from"./Menu-Bm1ShPnp.js";import{P as me}from"./plus-0dYUhXY5.js";import{T as et,a as W}from"./Tabs-DQ5TNJO7.js";import{F as tt}from"./funnel-Prn9gWG1.js";import{T as u}from"./TextField-BZcg-6kp.js";import{S as pe}from"./search-BrcmRr-v.js";import{T as at}from"./TableContainer-Cp4gnwML.js";import{T as nt,a as st,b as ue,c as y,d as rt}from"./TableHead-CMCmgIDA.js";import{C as X}from"./Checkbox-DrgNyHeB.js";import{S as it}from"./settings-CTSlhn1k.js";import{P as ot}from"./pencil-Cjn288Y-.js";import{P as lt}from"./paperclip-CTO_dT--.js";import{C as ge}from"./copy-BBA9hbF8.js";import{S as C}from"./Select-DixiLax7.js";import{C as dt}from"./calendar-C8D0Jpcj.js";import{M as ct}from"./minus-DE8k5glY.js";import{F as T}from"./FormControl-BRgYzLHi.js";import{I as M}from"./InputLabel-B_w9HMQG.js";import{D as $,a as G,b as Y,c as Q}from"./DialogContent-CkHDAA-B.js";import{F as ht}from"./FormControlLabel-nlFIIXjS.js";import"./KeyboardArrowRight-D6UvfiY9.js";import"./SwitchBase-s8UEUZOy.js";const xt=[{id:1,name:"Prenotazione Fuori Portale",date:"2025-09-30",category:"",listing:"Via di Acqua Bullicante 113",reservation:"",owner:"",ownerStatement:"Via Acqua Bulicante - DF Method September [Da Pagare]",amount:900,hasAttachment:!1},{id:2,name:"Accessori Guest",date:"2025-09-02",category:"",listing:"Splendido appartamento due passi dal Vaticano",reservation:"",owner:"",ownerStatement:"Via Nicolo V - DF Method September [Pagata]",amount:9.37,hasAttachment:!1},{id:3,name:"Sgorgo",date:"2025-09-18",category:"",listing:"Splendido appartamento due passi dal Vaticano",reservation:"",owner:"",ownerStatement:"Via Nicolo V - DF Method September [Pagata]",amount:50,hasAttachment:!1},{id:4,name:"Cleaning Extra Fondo",date:"2025-09-30",category:"",listing:"Splendido appartamento due passi dal Vaticano",reservation:"",owner:"",ownerStatement:"Via Nicolo V - DF Method September [Pagata]",amount:65,hasAttachment:!1},{id:5,name:"Elegant Roman",date:"2025-09-15",category:"",listing:"Elegant Roman Apartment",reservation:"",owner:"",ownerStatement:"Roman Method [Da Pagare]",amount:200,hasAttachment:!1}];function Ot(){const k=Ye(),[je,ye]=d.useState(0),[w,P]=d.useState([]),[c,b]=d.useState(1),[S]=d.useState(25),[Z,be]=d.useState(""),[fe,A]=d.useState(!1),[ve,_]=d.useState(!1),[Ce,K]=d.useState(!1),[ee,te]=d.useState(null),[n,g]=d.useState({expenseName:"",description:"",date:"2025-10-09",amount:0,categories:"",listing:"",reservation:"",owner:"",attachments:null}),[j,D]=d.useState(xt),[h,F]=d.useState(null),[ae,ne]=d.useState(null),[se,ke]=d.useState(""),[R,we]=d.useState(["name","date","categories","listing","reservation","owner","ownerStatement","amount"]),[Se,V]=d.useState(!1),[f,B]=d.useState(null),[re,ie]=d.useState(null),Ae=(t,a)=>{ye(a),a===1&&k.push("/expenses-extras/extras"),a===2&&k.push("/expenses-extras/categories"),a===3&&k.push("/expenses-extras/automations")},De=t=>{t.target.checked?P(j.map(a=>a.id)):P([])},Ee=t=>{P(a=>a.includes(t)?a.filter(s=>s!==t):[...a,t])},Ie=t=>{te(t.currentTarget)},E=()=>{te(null)},ze=()=>{A(!0),F(null)},oe=t=>{F(t),g({expenseName:t.name,description:t.ownerStatement,date:t.date,amount:t.amount,categories:t.category,listing:t.listing,reservation:t.reservation,owner:t.owner,attachments:null}),A(!0)},I=()=>{A(!1),g({expenseName:"",description:"",date:"2025-10-09",amount:0,categories:"",listing:"",reservation:"",owner:"",attachments:null})},m=(t,a)=>{g(s=>({...s,[t]:a}))},le=t=>{g(a=>({...a,amount:t==="increment"?a.amount+1:Math.max(0,a.amount-1)}))},We=t=>{const a=t.target.files;a&&g(s=>({...s,attachments:a}))},Te=()=>{if(h)if(h.isDuplicating){const t={id:Math.max(...j.map(a=>a.id))+1,name:n.expenseName||"New Expense",date:n.date,category:n.categories,listing:n.listing,reservation:n.reservation,owner:n.owner,ownerStatement:n.description||"",amount:n.amount,hasAttachment:!!(n.attachments&&n.attachments.length>0)};D(a=>[t,...a])}else{const t={...h,name:n.expenseName||"New Expense",date:n.date,category:n.categories,listing:n.listing,reservation:n.reservation,owner:n.owner,ownerStatement:n.description||"",amount:n.amount,hasAttachment:!!(n.attachments&&n.attachments.length>0)};D(a=>a.map(s=>s.id===h.id?t:s))}else{const t={id:Math.max(...j.map(a=>a.id))+1,name:n.expenseName||"New Expense",date:n.date,category:n.categories,listing:n.listing,reservation:n.reservation,owner:n.owner,ownerStatement:n.description||"",amount:n.amount,hasAttachment:!!(n.attachments&&n.attachments.length>0)};D(a=>[t,...a])}I()},Me=()=>{_(!0)},O=()=>{_(!1)},Pe=()=>{K(!0)},N=()=>{K(!1)},Fe=t=>{ne(t.currentTarget)},Re=()=>{ne(null)},Ve=t=>{we(a=>a.includes(t)?a.filter(s=>s!==t):[...a,t])},Be=t=>{B(t),V(!0)},Oe=()=>{f&&(D(t=>t.filter(a=>a.id!==f.id)),V(!1),B(null))},de=()=>{V(!1),B(null)},Ne=(t,a)=>{ie(t.currentTarget)},L=()=>{ie(null)},Le=()=>{L()},Ue=()=>{L()},qe=t=>{F({...t,isDuplicating:!0}),g({expenseName:`${t.name} (Copy)`,description:t.ownerStatement,date:new Date().toISOString().split("T")[0],amount:t.amount,categories:t.category,listing:t.listing,reservation:t.reservation,owner:t.owner,attachments:null}),A(!0)},U=[{key:"name",label:"Name",mandatory:!0},{key:"date",label:"Date",mandatory:!0},{key:"description",label:"Description",mandatory:!1},{key:"categories",label:"Categories",mandatory:!1},{key:"listing",label:"Listing",mandatory:!0},{key:"listingId",label:"Listing Id",mandatory:!1},{key:"reservation",label:"Reservation",mandatory:!1},{key:"reservationId",label:"Reservation Id",mandatory:!1},{key:"owner",label:"Owner",mandatory:!1},{key:"ownerStatement",label:"Owner statements",mandatory:!0},{key:"amount",label:"Amount",mandatory:!0},{key:"currency",label:"Currency",mandatory:!1},{key:"status",label:"Status",mandatory:!1},{key:"createdAt",label:"Created At",mandatory:!1},{key:"updatedAt",label:"Updated At",mandatory:!1}],q=j.filter(t=>t.name.toLowerCase().includes(Z.toLowerCase())),He=q.reduce((t,a)=>t+a.amount,0),ce=(c-1)*S,Je=ce+S,Xe=q.slice(ce,Je),x=Math.ceil(q.length/S),$e=()=>{const t=[];if(x<=5)for(let s=1;s<=x;s++)t.push(s);else{t.push(1),c>3&&t.push("...");const s=Math.max(2,c-1),Ge=Math.min(x-1,c+1);for(let v=s;v<=Ge;v++)v!==1&&v!==x&&t.push(v);c<x-2&&t.push("..."),x>1&&t.push(x)}return t};return e.jsxs(_e,{maxWidth:"xl",children:[e.jsxs(o,{sx:{mb:3},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:600},children:"Expenses and Extras"}),e.jsxs(o,{sx:{display:"flex",gap:1},children:[e.jsx(l,{variant:"outlined",onClick:Me,startIcon:e.jsx(J,{size:16}),children:"Import"}),e.jsx(l,{variant:"outlined",onClick:Ie,endIcon:e.jsx(Ke,{size:16}),children:"Download Report"}),e.jsxs(xe,{anchorEl:ee,open:!!ee,onClose:E,children:[e.jsx(i,{onClick:E,children:"Export CSV"}),e.jsx(i,{onClick:E,children:"Export Excel"}),e.jsx(i,{onClick:E,children:"Export PDF"})]}),e.jsx(l,{variant:"contained",onClick:ze,startIcon:e.jsx(me,{size:16}),children:"Add Expense"})]})]}),e.jsxs(et,{value:je,onChange:Ae,sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{textTransform:"none",fontWeight:500},"& .Mui-selected":{color:"primary.main",fontWeight:600},"& .MuiTabs-indicator":{bgcolor:"primary.main"}},children:[e.jsx(W,{label:"Expenses"}),e.jsx(W,{label:"Extras"}),e.jsx(W,{label:"Categories"}),e.jsx(W,{label:"Automations"})]})]}),e.jsx(o,{sx:{mb:3},children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(r,{variant:"h5",sx:{fontWeight:600},children:"Expenses"}),e.jsx(l,{variant:"outlined",onClick:Pe,children:"New Custom View"})]})}),e.jsx(z,{sx:{p:2,mb:3},children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[e.jsx(l,{variant:"outlined",startIcon:e.jsx(tt,{size:16}),children:"Filter"}),e.jsx(u,{size:"small",placeholder:"Search by name...",value:Z,onChange:t=>be(t.target.value),InputProps:{startAdornment:e.jsx(H,{position:"start",children:e.jsx(pe,{size:16,color:"#666"})})},sx:{minWidth:250}})]})}),e.jsx(z,{sx:{mb:3,borderRadius:2,overflow:"hidden"},children:e.jsx(at,{sx:{maxHeight:600,overflowY:"auto",overflowX:"auto"},children:e.jsxs(nt,{sx:{minWidth:1200},children:[e.jsx(st,{sx:{bgcolor:"grey.50"},children:e.jsxs(ue,{children:[e.jsx(y,{padding:"checkbox",sx:{bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"divider"},children:e.jsx(X,{indeterminate:w.length>0&&w.length<j.length,checked:w.length===j.length,onChange:De,sx:{color:"text.secondary"}})}),U.map(t=>R.includes(t.key)&&e.jsx(y,{sx:{bgcolor:"grey.50",borderBottom:"1px solid",borderColor:"divider",fontWeight:600,color:"text.primary"},children:t.label},t.key)),e.jsx(y,{align:"center",sx:{position:"sticky",right:0,bgcolor:"grey.50",borderLeft:"1px solid",borderBottom:"1px solid",borderColor:"divider",zIndex:1},children:e.jsx(p,{size:"small",onClick:Fe,sx:{color:"text.secondary","&:hover":{bgcolor:"grey.100"}},children:e.jsx(it,{size:16})})})]})}),e.jsx(rt,{children:Xe.map((t,a)=>e.jsxs(ue,{sx:{"&:hover":{bgcolor:"grey.50"}},children:[e.jsx(y,{padding:"checkbox",sx:{borderBottom:"1px solid",borderColor:"divider"},children:e.jsx(X,{checked:w.includes(t.id),onChange:()=>Ee(t.id),sx:{color:"text.secondary"}})}),U.map(s=>R.includes(s.key)&&e.jsxs(y,{sx:{borderBottom:"1px solid",borderColor:"divider",minWidth:120},children:[s.key==="name"&&e.jsx(r,{variant:"body2",sx:{fontWeight:500,color:"primary.main",cursor:"pointer","&:hover":{color:"primary.dark"}},onClick:()=>oe(t),children:t.name}),s.key==="date"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:t.date}),s.key==="description"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"—"}),s.key==="categories"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"—"}),s.key==="listing"&&e.jsx(r,{variant:"body2",sx:{color:"primary.main",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>k.push("/listings/1"),children:t.listing}),s.key==="listingId"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary",fontFamily:"monospace"},children:"—"}),s.key==="reservation"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary",textAlign:"center"},children:"—"}),s.key==="reservationId"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary",fontFamily:"monospace"},children:"—"}),s.key==="owner"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary",textAlign:"center"},children:"—"}),s.key==="ownerStatement"&&e.jsx(r,{variant:"body2",sx:{color:"text.primary",lineHeight:1.4},children:t.ownerStatement}),s.key==="amount"&&e.jsxs(r,{variant:"body2",sx:{fontWeight:600,color:"error.main",textAlign:"right"},children:["-€",t.amount.toFixed(2)]}),s.key==="currency"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"EUR"}),s.key==="status"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"—"}),s.key==="createdAt"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"—"}),s.key==="updatedAt"&&e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"—"})]},s.key)),e.jsx(y,{align:"center",sx:{position:"sticky",right:0,bgcolor:a%2===0?"white":"grey.50",borderLeft:"1px solid",borderBottom:"1px solid",borderColor:"divider",zIndex:1},children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(p,{size:"small",onClick:()=>oe(t),sx:{"&:hover":{bgcolor:"primary.lighter"}},children:e.jsx(ot,{size:16})}),e.jsx(p,{size:"small",onClick:s=>Ne(s),sx:{"&:hover":{bgcolor:"primary.lighter"}},children:e.jsx(lt,{size:16})}),e.jsx(p,{size:"small",onClick:()=>qe(t),sx:{"&:hover":{bgcolor:"primary.lighter"}},children:e.jsx(ge,{size:16})}),e.jsx(p,{size:"small",onClick:()=>Be(t),sx:{"&:hover":{bgcolor:"error.lighter"}},children:e.jsx(he,{size:16,color:"#ef4444"})})]})})]},t.id))})]})})}),e.jsx(z,{sx:{p:2,mb:2,position:"sticky",bottom:0,bgcolor:"background.paper",zIndex:1},children:e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(r,{variant:"h6",sx:{fontWeight:600},children:"TOTAL"}),e.jsxs(r,{variant:"h6",sx:{fontWeight:600,color:"error.main"},children:["-€",He.toFixed(2)]})]})}),e.jsx(z,{sx:{p:2},children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[e.jsx(r,{variant:"body2",sx:{fontWeight:600},children:"TOTAL"}),e.jsxs(C,{value:S,size:"small",sx:{minWidth:120},children:[e.jsx(i,{value:25,children:"Show 25 per page"}),e.jsx(i,{value:50,children:"Show 50 per page"}),e.jsx(i,{value:100,children:"Show 100 per page"})]})]}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[e.jsx(l,{size:"small",variant:"outlined",disabled:c===1,onClick:()=>b(1),children:"FIRST"}),e.jsx(l,{size:"small",variant:"outlined",disabled:c===1,onClick:()=>b(Math.max(1,c-1)),children:"<"}),$e().map((t,a)=>t==="..."?e.jsx(r,{variant:"body2",sx:{px:1,color:"text.secondary"},children:"..."},`ellipsis-${a}`):e.jsx(l,{size:"small",variant:t===c?"contained":"outlined",onClick:()=>b(t),sx:{minWidth:32},children:t},t)),e.jsx(l,{size:"small",variant:"outlined",disabled:c===x,onClick:()=>b(Math.min(x,c+1)),children:">"}),e.jsx(l,{size:"small",variant:"outlined",disabled:c===x,onClick:()=>b(x),children:"LAST"})]})]})}),e.jsxs(Qe,{anchor:"right",open:fe,onClose:I,sx:{"& .MuiDrawer-paper":{width:500,p:3}},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[e.jsx(r,{variant:"h6",sx:{fontWeight:600},children:h!=null&&h.isDuplicating?"Duplicate expense":h?"Edit expense":"Add new expense"}),e.jsx(p,{onClick:I,children:e.jsx(he,{size:20})})]}),e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsx(u,{fullWidth:!0,label:"Expense name *",placeholder:"Enter expense name...",value:n.expenseName,onChange:t=>m("expenseName",t.target.value),required:!0}),e.jsx(u,{fullWidth:!0,multiline:!0,rows:4,placeholder:"Enter description or notes...",sx:{"& .MuiOutlinedInput-root":{fontSize:"1rem",padding:2}},value:n.description,onChange:t=>m("description",t.target.value)}),e.jsx(u,{fullWidth:!0,label:"Date *",type:"date",value:n.date,onChange:t=>m("date",t.target.value),InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(H,{position:"end",children:e.jsx(dt,{size:20,color:"#666"})})}}),e.jsxs(o,{children:[e.jsx(r,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Amount *"}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(p,{onClick:()=>le("decrement"),sx:{border:"1px solid",borderColor:"divider",borderRadius:1},children:e.jsx(ct,{size:16})}),e.jsx(u,{value:n.amount,onChange:t=>m("amount",parseFloat(t.target.value)||0),sx:{flex:1,"& .MuiOutlinedInput-root":{textAlign:"center"}}}),e.jsx(p,{onClick:()=>le("increment"),sx:{border:"1px solid",borderColor:"divider",borderRadius:1},children:e.jsx(me,{size:16})})]})]}),e.jsxs(T,{fullWidth:!0,children:[e.jsx(M,{children:"Categories"}),e.jsxs(C,{value:n.categories,onChange:t=>m("categories",t.target.value),label:"Categories",children:[e.jsx(i,{value:"maintenance",children:"Maintenance"}),e.jsx(i,{value:"utilities",children:"Utilities"}),e.jsx(i,{value:"repairs",children:"Repairs"}),e.jsx(i,{value:"marketing",children:"Marketing"}),e.jsx(i,{value:"cleaning",children:"Cleaning"}),e.jsx(i,{value:"supplies",children:"Supplies"})]})]}),e.jsxs(T,{fullWidth:!0,children:[e.jsx(M,{children:"Listing"}),e.jsxs(C,{value:n.listing,onChange:t=>m("listing",t.target.value),label:"Listing",children:[e.jsx(i,{value:"via-acqua",children:"Via di Acqua Bullicante 113"}),e.jsx(i,{value:"vaticano",children:"Splendido appartamento due passi dal Vaticano"}),e.jsx(i,{value:"elegant-roman",children:"Elegant Roman Apartment"}),e.jsx(i,{value:"la-dimora",children:"La Dimora Del Cavaliere"}),e.jsx(i,{value:"navigli",children:"Navigli"}),e.jsx(i,{value:"polacchi",children:"Polacchi42"})]})]}),e.jsxs(T,{fullWidth:!0,children:[e.jsx(M,{children:"Reservation"}),e.jsxs(C,{value:n.reservation,onChange:t=>m("reservation",t.target.value),label:"Reservation",children:[e.jsx(i,{value:"res-001",children:"RES-001"}),e.jsx(i,{value:"res-002",children:"RES-002"}),e.jsx(i,{value:"res-003",children:"RES-003"}),e.jsx(i,{value:"res-004",children:"RES-004"})]})]}),e.jsxs(T,{fullWidth:!0,children:[e.jsx(M,{children:"Owner"}),e.jsxs(C,{value:n.owner,onChange:t=>m("owner",t.target.value),label:"Owner",children:[e.jsx(i,{value:"john-doe",children:"John Doe"}),e.jsx(i,{value:"jane-smith",children:"Jane Smith"}),e.jsx(i,{value:"mike-johnson",children:"Mike Johnson"}),e.jsx(i,{value:"sarah-wilson",children:"Sarah Wilson"})]})]}),e.jsxs(o,{children:[e.jsx(r,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Attachments"}),e.jsxs(o,{sx:{border:"2px dashed",borderColor:"divider",borderRadius:2,p:3,textAlign:"center",cursor:"pointer","&:hover":{borderColor:"primary.main",bgcolor:"primary.lighter"}},children:[e.jsx("input",{type:"file",multiple:!0,onChange:We,style:{display:"none"},id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",children:e.jsxs(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[e.jsx(J,{size:24,color:"#666"}),e.jsx(r,{variant:"body2",color:"text.secondary",children:"Drop files to upload or Browse"})]})})]})]}),e.jsxs(o,{sx:{display:"flex",gap:2,mt:4},children:[e.jsx(l,{fullWidth:!0,variant:"outlined",onClick:I,sx:{py:1.5},children:"Cancel"}),e.jsx(l,{fullWidth:!0,variant:"contained",onClick:Te,sx:{py:1.5},children:h!=null&&h.isDuplicating?"Duplicate":h?"Update":"Create"})]})]})]}),e.jsxs($,{open:ve,onClose:O,maxWidth:"sm",fullWidth:!0,children:[e.jsx(G,{children:"Import Data"}),e.jsx(Y,{children:e.jsxs(o,{sx:{p:2,textAlign:"center"},children:[e.jsx(r,{variant:"body1",sx:{mb:2},children:"Upload your expense data file"}),e.jsxs(l,{variant:"contained",component:"label",children:["Choose File",e.jsx("input",{type:"file",hidden:!0})]})]})}),e.jsxs(Q,{children:[e.jsx(l,{onClick:O,children:"Cancel"}),e.jsx(l,{variant:"contained",onClick:O,children:"Import"})]})]}),e.jsxs($,{open:Ce,onClose:N,maxWidth:"sm",fullWidth:!0,children:[e.jsx(G,{children:"New Custom View"}),e.jsx(Y,{children:e.jsx(u,{fullWidth:!0,label:"View Name",placeholder:"Enter view name...",sx:{mt:2}})}),e.jsxs(Q,{children:[e.jsx(l,{onClick:N,children:"Cancel"}),e.jsx(l,{variant:"contained",onClick:N,children:"Create View"})]})]}),e.jsx(Ze,{open:!!ae,anchorEl:ae,onClose:Re,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{mt:1},children:e.jsxs(o,{sx:{p:2,minWidth:250},children:[e.jsx(u,{fullWidth:!0,size:"small",placeholder:"Find column",value:se,onChange:t=>ke(t.target.value),InputProps:{startAdornment:e.jsx(H,{position:"start",children:e.jsx(pe,{size:16,color:"#666"})})},sx:{mb:2}}),U.filter(t=>t.label.toLowerCase().includes(se.toLowerCase())).map(t=>e.jsx(ht,{control:e.jsx(X,{checked:R.includes(t.key),onChange:()=>Ve(t.key),disabled:t.mandatory,size:"small"}),label:e.jsxs(r,{variant:"body2",sx:{color:t.mandatory?"text.disabled":"text.primary",fontSize:"0.875rem"},children:[t.label,t.mandatory&&" (Required)"]}),sx:{display:"block",mb:.5}},t.key))]})}),e.jsxs(xe,{anchorEl:re,open:!!re,onClose:L,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[e.jsx(i,{onClick:Le,children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(J,{size:16}),e.jsx(r,{variant:"body2",children:"Upload File"})]})}),e.jsx(i,{onClick:Ue,children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ge,{size:16}),e.jsx(r,{variant:"body2",children:"Copy Attachment"})]})})]}),e.jsxs($,{open:Se,onClose:de,children:[e.jsx(G,{children:"Delete Expense"}),e.jsx(Y,{children:e.jsxs(r,{children:['Are you sure you want to delete "',f==null?void 0:f.name,'"? This action cannot be undone.']})}),e.jsxs(Q,{children:[e.jsx(l,{onClick:de,children:"Cancel"}),e.jsx(l,{onClick:Oe,color:"error",variant:"contained",children:"Delete"})]})]})]})}export{Ot as ExpensesView};
