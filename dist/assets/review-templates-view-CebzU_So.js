import{D as P,r as n,j as e,B as o,T as s,g as G,d as u,a as r}from"./index-DlK49mD9.js";import{D as N}from"./content-BncdO-AK.js";import{T as $,a as x}from"./Tabs-CawWx8bN.js";import{T as J}from"./TextField-DGQVylbQ.js";import{G as j}from"./Grid-CFPLP85A.js";import{C as Q}from"./Card-C2DhIU3E.js";import{C as U}from"./CardContent-CO_bIGDJ.js";import{D as C,a as T,b,c as D}from"./DialogContent-BrwwiAlS.js";import"./KeyboardArrowRight-B0juUeOl.js";import"./Select-hkki-_gR.js";import"./Menu-Cd2TK2zY.js";import"./InputLabel-vBrrCZYs.js";import"./FormControl-DsPW8NaL.js";const V=[{id:1,name:"Standard Review Template",description:"Basic template for general property reviews",category:"General",questions:["How was your overall experience?","Rate the cleanliness of the property","How was the communication with the host?","Would you recommend this property to others?"],createdAt:"2024-01-15",status:"Active",usageCount:45},{id:2,name:"Luxury Property Template",description:"Specialized template for high-end properties",category:"Luxury",questions:["Rate the luxury amenities provided","How was the quality of service?","Rate the property maintenance","How was the check-in/check-out process?","Rate the overall value for money"],createdAt:"2024-01-20",status:"Active",usageCount:23},{id:3,name:"Business Travel Template",description:"Template designed for business travelers",category:"Business",questions:["How was the WiFi connection?","Rate the workspace setup","How was the noise level?","Rate the location for business needs","How was the overall productivity?"],createdAt:"2024-01-25",status:"Active",usageCount:18},{id:4,name:"Family Stay Template",description:"Template for family-friendly properties",category:"Family",questions:["How family-friendly was the property?","Rate the safety features","How was the space for children?","Rate the nearby family attractions","Would you stay here again with family?"],createdAt:"2024-02-01",status:"Draft",usageCount:0},{id:5,name:"Pet-Friendly Template",description:"Template for pet-friendly accommodations",category:"Pet-Friendly",questions:["How pet-friendly was the property?","Rate the pet amenities provided","How was the outdoor space for pets?","Rate the pet policies and rules","Would you recommend for pet owners?"],createdAt:"2024-02-05",status:"Active",usageCount:12},{id:6,name:"Long-term Stay Template",description:"Template for extended stays (30+ days)",category:"Long-term",questions:["How was the property for long-term living?","Rate the kitchen facilities","How was the storage space?","Rate the maintenance during your stay","How was the overall comfort for extended stay?"],createdAt:"2024-02-10",status:"Inactive",usageCount:8}];function le(){const c=P(),[R,A]=n.useState(2),[d,S]=n.useState(""),[h,f]=n.useState(V),[a,l]=n.useState(null),[k,p]=n.useState(!1),[H,m]=n.useState(!1),W=()=>{const t=localStorage.getItem("reviewTemplates");t&&f(JSON.parse(t))},y=t=>{localStorage.setItem("reviewTemplates",JSON.stringify(t)),f(t)};n.useEffect(()=>{W()},[]);const q=(t,i)=>{A(i),i===0&&c.push("/reviews/manage-reviews"),i===1&&c.push("/reviews/auto-reviews")},L=()=>{c.push("/reviews/templates/new")},I=t=>{c.push(`/reviews/templates/${t.id}/view`)},z=t=>{c.push(`/reviews/templates/${t.id}/edit`)},B=t=>{l(t),m(!0)},O=t=>{l(t),p(!0)},F=()=>{if(a){const t={...a,id:Date.now(),name:`${a.name} (Copy)`,status:"Draft",usageCount:0,createdAt:new Date().toISOString().split("T")[0]},i=[...h,t];y(i)}m(!1),l(null)},E=()=>{if(a){const t=h.filter(i=>i.id!==a.id);y(t)}p(!1),l(null)},g=()=>{m(!1),l(null)},v=()=>{p(!1),l(null)},w=h.filter(t=>t.name.toLowerCase().includes(d.toLowerCase())||t.description.toLowerCase().includes(d.toLowerCase())||t.category.toLowerCase().includes(d.toLowerCase()));return e.jsxs(N,{maxWidth:"xl",children:[e.jsxs(o,{sx:{mb:3},children:[e.jsx(s,{variant:"h4",sx:{fontWeight:600,mb:2},children:"Reviews"}),e.jsxs($,{value:R,onChange:q,sx:{borderBottom:1,borderColor:"divider","& .MuiTab-root":{textTransform:"none",fontWeight:500},"& .Mui-selected":{color:"primary.main",fontWeight:600},"& .MuiTabs-indicator":{bgcolor:"primary.main"}},children:[e.jsx(x,{label:"Manage Reviews"}),e.jsx(x,{label:"Auto Reviews"}),e.jsx(x,{label:"Review Templates"})]})]}),e.jsx(o,{sx:{mb:3},children:e.jsx(J,{placeholder:"Search review templates...",value:d,onChange:t=>S(t.target.value),sx:{width:400},InputProps:{startAdornment:e.jsx(G,{position:"start",children:e.jsx(u,{icon:"eva:search-fill"})})}})}),e.jsx(j,{container:!0,spacing:3,children:w.map(t=>e.jsx(j,{size:{xs:12,sm:6,md:4},children:e.jsx(Q,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:"grey.50",border:1,borderColor:"grey.200",borderRadius:2},children:e.jsxs(U,{sx:{flex:1,display:"flex",flexDirection:"column",p:3},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsx(s,{variant:"h6",sx:{fontWeight:600,flex:1,color:"text.primary"},children:t.name}),e.jsx(o,{sx:{px:1.5,py:.5,borderRadius:1,bgcolor:t.status==="Active"?"success.lighter":t.status==="Draft"?"warning.lighter":"error.lighter",color:t.status==="Active"?"success.darker":t.status==="Draft"?"warning.darker":"error.darker",fontSize:"0.75rem",fontWeight:500},children:t.status})]}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t.description}),e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(s,{variant:"body2",sx:{fontWeight:500},children:["Category: ",t.category]}),e.jsxs(s,{variant:"body2",sx:{fontWeight:500},children:["Used ",t.usageCount," times"]})]}),e.jsxs(o,{sx:{flex:1,mb:2},children:[e.jsxs(s,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:["Questions (",t.questions.length,"):"]}),e.jsxs(o,{sx:{maxHeight:120,overflow:"auto"},children:[t.questions.slice(0,3).map((i,M)=>e.jsxs(s,{variant:"body2",sx:{mb:.5,fontSize:"0.875rem"},children:["â€¢ ",i]},M)),t.questions.length>3&&e.jsxs(s,{variant:"caption",color:"text.secondary",children:["+",t.questions.length-3," more questions"]})]})]}),e.jsxs(s,{variant:"body2",sx:{fontWeight:500,mb:2},children:["Created: ",t.createdAt]}),e.jsxs(o,{sx:{display:"flex",justifyContent:"flex-end",gap:1,mt:"auto"},children:[e.jsxs(r,{size:"small",variant:"outlined",onClick:()=>I(t),children:[e.jsx(u,{icon:"eva:eye-fill",sx:{mr:.5}}),"View"]}),e.jsxs(r,{size:"small",variant:"outlined",onClick:()=>z(t),children:[e.jsx(u,{icon:"eva:edit-fill",sx:{mr:.5}}),"Edit"]}),e.jsxs(r,{size:"small",variant:"outlined",onClick:()=>B(t),children:[e.jsx(u,{icon:"eva:copy-fill",sx:{mr:.5}}),"Copy"]}),e.jsxs(r,{size:"small",variant:"outlined",color:"error",onClick:()=>O(t),children:[e.jsx(u,{icon:"eva:trash-2-fill",sx:{mr:.5}}),"Delete"]})]})]})})},t.id))}),w.length===0&&e.jsxs(o,{sx:{textAlign:"center",py:8},children:[e.jsx(s,{variant:"h6",sx:{mb:2,color:"text.secondary"},children:"No review templates found"}),e.jsx(s,{variant:"body2",sx:{mb:3,color:"text.secondary"},children:d?"Try adjusting your search terms":"Create your first review template to get started"}),e.jsx(r,{variant:"contained",onClick:L,children:"Create Review Template"})]}),e.jsxs(C,{open:H,onClose:g,children:[e.jsx(T,{children:"Duplicate Template"}),e.jsx(b,{children:e.jsxs(s,{children:['Are you sure you want to duplicate "',a==null?void 0:a.name,'"? This will create a copy with "(Copy)" added to the name.']})}),e.jsxs(D,{children:[e.jsx(r,{onClick:g,children:"Cancel"}),e.jsx(r,{onClick:F,variant:"contained",children:"Duplicate"})]})]}),e.jsxs(C,{open:k,onClose:v,children:[e.jsx(T,{children:"Delete Template"}),e.jsx(b,{children:e.jsxs(s,{children:['Are you sure you want to delete "',a==null?void 0:a.name,'"? This action cannot be undone.']})}),e.jsxs(D,{children:[e.jsx(r,{onClick:v,children:"Cancel"}),e.jsx(r,{onClick:E,variant:"contained",color:"error",children:"Delete"})]})]})]})}export{le as ReviewTemplatesView};
