import{G as f,H as w,r as u,j as e,B as o,T as a,L as h,J as j,g as I,I as v,a as A,K as C}from"./index-DlK49mD9.js";import{T as s}from"./TextField-DGQVylbQ.js";import{E as M}from"./eye-off-DeGMjFw4.js";import{E as D}from"./eye-CNWiU7qj.js";import"./Select-hkki-_gR.js";import"./Menu-Cd2TK2zY.js";import"./InputLabel-vBrrCZYs.js";import"./FormControl-DsPW8NaL.js";function L(){const p=f(),{isLoading:x}=w(),[t,g]=u.useState({firstName:"",lastName:"",email:"",password:"",hostawayApiKey:"",hostawayAccountId:""}),[l,m]=u.useState(!1),[y,c]=u.useState(""),r=d=>i=>{g(n=>({...n,[d]:i.target.value}))},b=async d=>{d.preventDefault(),c("");try{if(t.email&&t.password.length>=6){const i={id:Date.now().toString(),email:t.email,name:`${t.firstName} ${t.lastName}`,role:t.hostawayApiKey&&t.hostawayAccountId?"super-admin":"user",hostawayApiKey:t.hostawayApiKey,hostawayAccountId:t.hostawayAccountId};if(localStorage.setItem("user",JSON.stringify(i)),t.hostawayApiKey&&t.hostawayAccountId){const n={apiKey:t.hostawayApiKey,accountId:t.hostawayAccountId,userId:i.id};localStorage.setItem("hostawayCredentials",JSON.stringify(n)),C.setCredentials(n)}console.log("Registration successful, navigating to dashboard..."),p("/dashboard",{replace:!0})}else c("Please fill all fields and ensure password is at least 6 characters")}catch{c("Registration failed. Please try again.")}};return e.jsxs(o,{sx:{height:"100vh",display:"flex",bgcolor:"white",overflow:"hidden"},children:[e.jsxs(o,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",bgcolor:"grey.50",position:"relative",overflow:"hidden"},children:[e.jsx(o,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(255,107,53,0.1) 0%, rgba(247,147,30,0.1) 100%)",opacity:.3}}),e.jsxs(o,{sx:{position:"relative",zIndex:1,textAlign:"center",p:4},children:[e.jsx(a,{variant:"h3",sx:{fontWeight:700,mb:2,color:"#333"},children:"Manage the job"}),e.jsx(a,{variant:"h6",sx:{color:"text.secondary",mb:4,fontWeight:400},children:"More effectively with optimized workflows."}),e.jsx("img",{src:"/assets/image.png",alt:"Hostaway Dashboard",style:{width:"100%",maxWidth:"600px",height:"auto",objectFit:"contain"}})]})]}),e.jsx(o,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",bgcolor:"white",p:4},children:e.jsxs(o,{sx:{width:"100%",maxWidth:400},children:[e.jsxs(o,{sx:{textAlign:"center",mb:4},children:[e.jsx(a,{variant:"h4",sx:{fontWeight:700,mb:1,color:"#333"},children:"Get started absolutely free"}),e.jsxs(a,{variant:"body2",sx:{color:"text.secondary"},children:["Already have an account?"," ",e.jsx(h,{href:"/login",sx:{color:"#FF6B35",textDecoration:"none",fontWeight:600,"&:hover":{textDecoration:"underline"}},children:"Get started"})]})]}),y&&e.jsx(j,{severity:"error",sx:{mb:3,borderRadius:2},children:y}),e.jsxs("form",{onSubmit:b,children:[e.jsxs(o,{sx:{display:"flex",gap:2,mb:3},children:[e.jsx(s,{fullWidth:!0,label:"First name",value:t.firstName,onChange:r("firstName"),required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white"},"& .MuiInputLabel-root":{color:"text.secondary"}}}),e.jsx(s,{fullWidth:!0,label:"Last name",value:t.lastName,onChange:r("lastName"),required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white"},"& .MuiInputLabel-root":{color:"text.secondary"}}})]}),e.jsx(s,{fullWidth:!0,label:"Email address",type:"email",value:t.email,onChange:r("email"),required:!0,sx:{mb:3,"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white"},"& .MuiInputLabel-root":{color:"text.secondary"}}}),e.jsx(s,{fullWidth:!0,label:"Password",type:l?"text":"password",value:t.password,onChange:r("password"),required:!0,helperText:"6+ characters",sx:{mb:3,"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white"},"& .MuiInputLabel-root":{color:"text.secondary"},"& .MuiFormHelperText-root":{color:"text.secondary",fontSize:"12px"}},InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(v,{onClick:()=>m(!l),edge:"end",children:l?e.jsx(M,{size:20}):e.jsx(D,{size:20})})})}}),e.jsxs(o,{sx:{mb:3},children:[e.jsx(a,{variant:"h6",sx:{mb:2,color:"#333",fontWeight:600},children:"Hostaway Integration (Optional)"}),e.jsx(a,{variant:"body2",sx:{mb:2,color:"text.secondary"},children:"Connect your Hostaway account to sync your property data"}),e.jsx(s,{fullWidth:!0,label:"Hostaway API Key",type:"password",value:t.hostawayApiKey,onChange:r("hostawayApiKey"),placeholder:"Enter your Hostaway API key",sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white"},"& .MuiInputLabel-root":{color:"text.secondary"}}}),e.jsx(s,{fullWidth:!0,label:"Hostaway Account ID",value:t.hostawayAccountId,onChange:r("hostawayAccountId"),placeholder:"Enter your Hostaway Account ID",sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"white"},"& .MuiInputLabel-root":{color:"text.secondary"}}}),e.jsx(a,{variant:"caption",sx:{color:"text.secondary",fontSize:"12px"},children:"You can find these in your Hostaway account → Settings → API"})]}),e.jsx(A,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:x,sx:{py:1.5,mb:3,borderRadius:2,bgcolor:"#333",color:"white","&:hover":{bgcolor:"#555"},"&:disabled":{bgcolor:"grey.300"}},children:x?"Creating Account...":"Create account"})]}),e.jsx(o,{sx:{textAlign:"center"},children:e.jsxs(a,{variant:"caption",sx:{color:"text.secondary"},children:["By signing up, I agree to"," ",e.jsx(h,{href:"#",sx:{color:"#FF6B35",textDecoration:"none"},children:"Terms of service"})," ","and"," ",e.jsx(h,{href:"#",sx:{color:"#FF6B35",textDecoration:"none"},children:"Privacy policy"})]})})]})})]})}export{L as HostawayRegister};
